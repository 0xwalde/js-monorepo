"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=!1,n=null,t=!1,o=new Set,d="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function r(e,n){o.forEach((t=>t(e,n)))}function i(e){t=!0,function(e){return!(e.metaKey||!d&&e.altKey||e.ctrlKey)}(e)&&(n="keyboard",r("keyboard",e))}function u(e){n="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(t=!0,r("pointer",e))}function c(e){e.target!==window&&e.target!==document&&(t||(n="keyboard",r("keyboard",e)),t=!1)}function a(){t=!1}function s(){return"pointer"!==n}exports.trackFocusVisible=function(n){!function(){if("undefined"==typeof window||e)return;const{focus:n}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...e){t=!0,n.apply(this,e)},document.addEventListener("keydown",i,!0),document.addEventListener("keyup",i,!0),window.addEventListener("focus",c,!0),window.addEventListener("blur",a,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",u,!0),document.addEventListener("pointermove",u,!0),document.addEventListener("pointerup",u,!0)):(document.addEventListener("mousedown",u,!0),document.addEventListener("mousemove",u,!0),document.addEventListener("mouseup",u,!0)),e=!0}(),n(s());const d=()=>n(s());return o.add(d),()=>{o.delete(d)}};
//# sourceMappingURL=index.mjs.js.map
