"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../system/dist/chakra-ui-system.esm.js"),t=require("../../utils/dist/chakra-ui-utils.esm.js");require("../../../react/index.js");var a=require("../../clickable/dist/chakra-ui-clickable.esm.js"),r=require("../../descendant/dist/chakra-ui-descendant.esm.js"),n=require("../../hooks/dist/chakra-ui-hooks.esm.js"),s=require("../../react-utils/dist/chakra-ui-react-utils.esm.js"),i=require("../../hooks/dist/use-animation-state-5054a9f7.esm.js"),o=require("../../../../_virtual/index.js");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}var d=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],u=["isDisabled","isFocusable"],f=["isSelected","id","children"],b=r.createDescendantContext(),p=b[0],x=b[1],h=b[2],m=b[3];function v(e){var t=e.defaultIndex,a=e.onChange,r=e.index,s=e.isManual,i=e.isLazy,c=e.lazyBehavior,u=void 0===c?"unmount":c,f=e.orientation,b=void 0===f?"horizontal":f,p=e.direction,x=void 0===p?"ltr":p,m=l(e,d),v=o.react.exports.useState(null!=t?t:0),_=v[0],y=v[1],T=n.useControllableState({defaultValue:null!=t?t:0,value:r,onChange:a}),k=T[0],g=T[1];o.react.exports.useEffect((function(){null!=r&&y(r)}),[r]);var E=h();return{id:n.useId(e.id,"tabs"),selectedIndex:k,focusedIndex:_,setSelectedIndex:g,setFocusedIndex:y,isManual:s,isLazy:i,lazyBehavior:u,orientation:b,descendants:E,direction:x,htmlProps:m}}var _=s.createContext({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),y=_[0],T=_[1];function k(e){var a=T(),r=a.focusedIndex,n=a.orientation,s=a.direction,i=x(),l=o.react.exports.useCallback((function(e){var a,o=function(){var e=i.nextEnabled(r);e&&t.focus(e.node)},c=function(){var e=i.prevEnabled(r);e&&t.focus(e.node)},l="horizontal"===n,d="vertical"===n,u=t.normalizeEventKey(e),f="ltr"===s?"ArrowRight":"ArrowLeft",b=((a={})["ltr"===s?"ArrowLeft":"ArrowRight"]=function(){return l&&c()},a[f]=function(){return l&&o()},a.ArrowDown=function(){return d&&o()},a.ArrowUp=function(){return d&&c()},a.Home=function(){var e=i.firstEnabled();e&&t.focus(e.node)},a.End=function(){var e=i.lastEnabled();e&&t.focus(e.node)},a)[u];b&&(e.preventDefault(),b(e))}),[i,r,n,s]);return c({},e,{role:"tablist","aria-orientation":n,onKeyDown:t.callAllHandlers(e.onKeyDown,l)})}function g(e){var r=e.isDisabled,n=e.isFocusable,i=l(e,u),o=T(),d=o.setSelectedIndex,f=o.isManual,b=o.id,p=o.setFocusedIndex,x=o.selectedIndex,h=m({disabled:r&&!n}),v=h.index,_=h.register,y=v===x,k=a.useClickable(c({},i,{ref:s.mergeRefs(_,e.ref),isDisabled:r,isFocusable:n,onClick:t.callAllHandlers(e.onClick,(function(){d(v)}))}));return c({},k,{id:I(b,v),role:"tab",tabIndex:y?0:-1,type:"button","aria-selected":y,"aria-controls":N(b,v),onFocus:r?void 0:t.callAllHandlers(e.onFocus,(function(){p(v),!f&&!(r&&n)&&d(v)}))})}function E(e){var t=T(),a=t.id,r=t.selectedIndex;return c({},e,{children:s.getValidChildren(e.children).map((function(e,t){return o.react.exports.cloneElement(e,{isSelected:t===r,id:N(a,t),"aria-labelledby":I(a,t)})}))})}function w(e){var a=e.isSelected,r=e.id,n=e.children,s=l(e,f),i=T(),d=i.isLazy,u=i.lazyBehavior,b=o.react.exports.useRef(!1);return a&&(b.current=!0),c({tabIndex:0},s,{children:t.determineLazyBehavior({hasBeenSelected:b.current,isSelected:a,isLazy:d,lazyBehavior:u})?n:null,role:"tabpanel",hidden:!a,id:r})}function D(){var e=T(),a=x(),r=e.selectedIndex,n=e.orientation,s="horizontal"===n,l="vertical"===n,d=o.react.exports.useState((function(){return s?{left:0,width:0}:l?{top:0,height:0}:void 0})),u=d[0],f=d[1],b=o.react.exports.useState(!1),p=b[0],h=b[1];return i.a((function(){if(!t.isUndefined(r)){var e=a.item(r);if(!t.isUndefined(e)){s&&f({left:e.node.offsetLeft,width:e.node.offsetWidth}),l&&f({top:e.node.offsetTop,height:e.node.offsetHeight});var n=requestAnimationFrame((function(){h(!0)}));return function(){n&&cancelAnimationFrame(n)}}}}),[r,s,l,a]),c({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:p?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},u)}function I(e,t){return e+"--tab-"+t}function N(e,t){return e+"--tabpanel-"+t}var C=["children","className"],z=["htmlProps","descendants"],j=e.createStylesContext("Tabs"),P=j[0],S=j[1],L=e.forwardRef((function(a,r){var n=e.useMultiStyleConfig("Tabs",a),s=e.omitThemingProps(a),i=s.children,d=s.className,u=v(l(s,C)),f=u.htmlProps,b=u.descendants,x=l(u,z),h=o.react.exports.useMemo((function(){return x}),[x]),m=t.omit(f,["isFitted"]);return o.react.exports.createElement(p,{value:b},o.react.exports.createElement(y,{value:h},o.react.exports.createElement(P,{value:n},o.react.exports.createElement(e.chakra.div,c({className:t.cx("chakra-tabs",d),ref:r},m,{__css:n.root}),i))))}));t.__DEV__&&(L.displayName="Tabs");var A=e.forwardRef((function(a,r){var n=S(),s=g(c({},a,{ref:r})),i=c({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return o.react.exports.createElement(e.chakra.button,c({},s,{className:t.cx("chakra-tabs__tab",a.className),__css:i}))}));t.__DEV__&&(A.displayName="Tab");var F=e.forwardRef((function(a,r){var n=k(c({},a,{ref:r})),s=c({display:"flex"},S().tablist);return o.react.exports.createElement(e.chakra.div,c({},n,{className:t.cx("chakra-tabs__tablist",a.className),__css:s}))}));t.__DEV__&&(F.displayName="TabList");var q=e.forwardRef((function(a,r){var n=w(c({},a,{ref:r})),s=S();return o.react.exports.createElement(e.chakra.div,c({outline:"0"},n,{className:t.cx("chakra-tabs__tab-panel",a.className),__css:s.tabpanel}))}));t.__DEV__&&(q.displayName="TabPanel");var R=e.forwardRef((function(a,r){var n=E(a),s=S();return o.react.exports.createElement(e.chakra.div,c({},n,{width:"100%",ref:r,className:t.cx("chakra-tabs__tab-panels",a.className),__css:s.tabpanels}))}));t.__DEV__&&(R.displayName="TabPanels");var M=e.forwardRef((function(a,r){var n=D(),s=c({},a.style,n),i=S();return o.react.exports.createElement(e.chakra.div,c({ref:r},a,{className:t.cx("chakra-tabs__tab-indicator",a.className),style:s,__css:i.indicator}))}));t.__DEV__&&(M.displayName="TabIndicator"),exports.Tab=A,exports.TabIndicator=M,exports.TabList=F,exports.TabPanel=q,exports.TabPanels=R,exports.Tabs=L,exports.TabsDescendantsProvider=p,exports.TabsProvider=y,exports.useTab=g,exports.useTabIndicator=D,exports.useTabList=k,exports.useTabPanel=w,exports.useTabPanels=E,exports.useTabs=v,exports.useTabsContext=T,exports.useTabsDescendant=m,exports.useTabsDescendants=h,exports.useTabsDescendantsContext=x;
//# sourceMappingURL=chakra-ui-tabs.esm.js.map
