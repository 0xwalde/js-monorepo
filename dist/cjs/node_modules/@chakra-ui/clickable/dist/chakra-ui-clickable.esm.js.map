{"version":3,"file":"chakra-ui-clickable.esm.js","sources":["../../../../../../node_modules/@chakra-ui/clickable/dist/chakra-ui-clickable.esm.js"],"sourcesContent":["import { isRightClick, dataAttr } from '@chakra-ui/utils';\nimport { mergeRefs } from '@chakra-ui/react-utils';\nimport * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction useEventListeners() {\n  var listeners = React.useRef(new Map());\n  var currentListeners = listeners.current;\n  var add = React.useCallback(function (el, type, listener, options) {\n    listeners.current.set(listener, {\n      type: type,\n      el: el,\n      options: options\n    });\n    el.addEventListener(type, listener, options);\n  }, []);\n  var remove = React.useCallback(function (el, type, listener, options) {\n    el.removeEventListener(type, listener, options);\n    listeners.current[\"delete\"](listener);\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      currentListeners.forEach(function (value, key) {\n        remove(value.el, value.type, key, value.options);\n      });\n    };\n  }, [remove, currentListeners]);\n  return {\n    add: add,\n    remove: remove\n  };\n}\n\nvar _excluded = [\"ref\", \"isDisabled\", \"isFocusable\", \"clickOnEnter\", \"clickOnSpace\", \"onMouseDown\", \"onMouseUp\", \"onClick\", \"onKeyDown\", \"onKeyUp\", \"tabIndex\", \"onMouseOver\", \"onMouseLeave\"];\n\nfunction isValidElement(event) {\n  var element = event.target;\n  var tagName = element.tagName,\n      isContentEditable = element.isContentEditable;\n  return tagName !== \"INPUT\" && tagName !== \"TEXTAREA\" && isContentEditable !== true;\n}\n/**\n * useClickable implements all the interactions of a native `button`\n * component with support for making it focusable even if it is disabled.\n *\n * It can be used with both native button elements or other elements (like `div`).\n */\n\n\nfunction useClickable(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      htmlRef = _props.ref,\n      isDisabled = _props.isDisabled,\n      isFocusable = _props.isFocusable,\n      _props$clickOnEnter = _props.clickOnEnter,\n      clickOnEnter = _props$clickOnEnter === void 0 ? true : _props$clickOnEnter,\n      _props$clickOnSpace = _props.clickOnSpace,\n      clickOnSpace = _props$clickOnSpace === void 0 ? true : _props$clickOnSpace,\n      onMouseDown = _props.onMouseDown,\n      onMouseUp = _props.onMouseUp,\n      onClick = _props.onClick,\n      onKeyDown = _props.onKeyDown,\n      onKeyUp = _props.onKeyUp,\n      tabIndexProp = _props.tabIndex,\n      onMouseOver = _props.onMouseOver,\n      onMouseLeave = _props.onMouseLeave,\n      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded);\n  /**\n   * We'll use this to track if the element is a button element\n   */\n\n\n  var _React$useState = React.useState(true),\n      isButton = _React$useState[0],\n      setIsButton = _React$useState[1];\n  /**\n   * For custom button implementation, we'll use this to track when\n   * we mouse down on the button, to enable use style its \":active\" style\n   */\n\n\n  var _React$useState2 = React.useState(false),\n      isPressed = _React$useState2[0],\n      setIsPressed = _React$useState2[1];\n\n  var listeners = useEventListeners();\n  /**\n   * The ref callback that fires as soon as the dom node is ready\n   */\n\n  var refCallback = function refCallback(node) {\n    if (!node) return;\n\n    if (node.tagName !== \"BUTTON\") {\n      setIsButton(false);\n    }\n  };\n\n  var tabIndex = isButton ? tabIndexProp : tabIndexProp || 0;\n  var trulyDisabled = isDisabled && !isFocusable;\n  var handleClick = React.useCallback(function (event) {\n    if (isDisabled) {\n      event.stopPropagation();\n      event.preventDefault();\n      return;\n    }\n\n    var self = event.currentTarget;\n    self.focus();\n    onClick == null ? void 0 : onClick(event);\n  }, [isDisabled, onClick]);\n  var onDocumentKeyUp = React.useCallback(function (e) {\n    if (isPressed && isValidElement(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n      setIsPressed(false); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n      listeners.remove(document, \"keyup\", onDocumentKeyUp, false);\n    }\n  }, [isPressed, listeners]);\n  var handleKeyDown = React.useCallback(function (event) {\n    onKeyDown == null ? void 0 : onKeyDown(event);\n\n    if (isDisabled || event.defaultPrevented || event.metaKey) {\n      return;\n    }\n\n    if (!isValidElement(event.nativeEvent) || isButton) return;\n    var shouldClickOnEnter = clickOnEnter && event.key === \"Enter\";\n    var shouldClickOnSpace = clickOnSpace && event.key === \" \";\n\n    if (shouldClickOnSpace) {\n      event.preventDefault();\n      setIsPressed(true);\n    }\n\n    if (shouldClickOnEnter) {\n      event.preventDefault();\n      var self = event.currentTarget;\n      self.click();\n    }\n\n    listeners.add(document, \"keyup\", onDocumentKeyUp, false);\n  }, [isDisabled, isButton, onKeyDown, clickOnEnter, clickOnSpace, listeners, onDocumentKeyUp]);\n  var handleKeyUp = React.useCallback(function (event) {\n    onKeyUp == null ? void 0 : onKeyUp(event);\n    if (isDisabled || event.defaultPrevented || event.metaKey) return;\n    if (!isValidElement(event.nativeEvent) || isButton) return;\n    var shouldClickOnSpace = clickOnSpace && event.key === \" \";\n\n    if (shouldClickOnSpace) {\n      event.preventDefault();\n      setIsPressed(false);\n      var self = event.currentTarget;\n      self.click();\n    }\n  }, [clickOnSpace, isButton, isDisabled, onKeyUp]);\n  var onDocumentMouseUp = React.useCallback(function (event) {\n    if (event.button !== 0) return;\n    setIsPressed(false);\n    listeners.remove(document, \"mouseup\", onDocumentMouseUp, false);\n  }, [listeners]);\n  var handleMouseDown = React.useCallback(function (event) {\n    if (isRightClick(event)) return;\n\n    if (isDisabled) {\n      event.stopPropagation();\n      event.preventDefault();\n      return;\n    }\n\n    if (!isButton) {\n      setIsPressed(true);\n    }\n\n    var target = event.currentTarget;\n    target.focus({\n      preventScroll: true\n    });\n    listeners.add(document, \"mouseup\", onDocumentMouseUp, false);\n    onMouseDown == null ? void 0 : onMouseDown(event);\n  }, [isDisabled, isButton, onMouseDown, listeners, onDocumentMouseUp]);\n  var handleMouseUp = React.useCallback(function (event) {\n    if (isRightClick(event)) return;\n\n    if (!isButton) {\n      setIsPressed(false);\n    }\n\n    onMouseUp == null ? void 0 : onMouseUp(event);\n  }, [onMouseUp, isButton]);\n  var handleMouseOver = React.useCallback(function (event) {\n    if (isDisabled) {\n      event.preventDefault();\n      return;\n    }\n\n    onMouseOver == null ? void 0 : onMouseOver(event);\n  }, [isDisabled, onMouseOver]);\n  var handleMouseLeave = React.useCallback(function (event) {\n    if (isPressed) {\n      event.preventDefault();\n      setIsPressed(false);\n    }\n\n    onMouseLeave == null ? void 0 : onMouseLeave(event);\n  }, [isPressed, onMouseLeave]);\n  var ref = mergeRefs(htmlRef, refCallback);\n\n  if (isButton) {\n    return _extends({}, htmlProps, {\n      ref: ref,\n      type: \"button\",\n      \"aria-disabled\": trulyDisabled ? undefined : isDisabled,\n      disabled: trulyDisabled,\n      onClick: handleClick,\n      onMouseDown: onMouseDown,\n      onMouseUp: onMouseUp,\n      onKeyUp: onKeyUp,\n      onKeyDown: onKeyDown,\n      onMouseOver: onMouseOver,\n      onMouseLeave: onMouseLeave\n    });\n  }\n\n  return _extends({}, htmlProps, {\n    ref: ref,\n    role: \"button\",\n    \"data-active\": dataAttr(isPressed),\n    \"aria-disabled\": isDisabled ? \"true\" : undefined,\n    tabIndex: trulyDisabled ? undefined : tabIndex,\n    onClick: handleClick,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp,\n    onKeyUp: handleKeyUp,\n    onKeyDown: handleKeyDown,\n    onMouseOver: handleMouseOver,\n    onMouseLeave: handleMouseLeave\n  });\n}\n\nexport { useClickable };\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_excluded","isValidElement","event","element","tagName","isContentEditable","props","_props","htmlRef","ref","isDisabled","isFocusable","_props$clickOnEnter","clickOnEnter","_props$clickOnSpace","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndexProp","tabIndex","onMouseOver","onMouseLeave","htmlProps","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","_React$useState","React.useState","react","exports","useState","isButton","setIsButton","_React$useState2","isPressed","setIsPressed","listeners","React.useRef","Map","currentListeners","current","add","React.useCallback","el","type","listener","options","set","addEventListener","remove","removeEventListener","React.useEffect","forEach","value","useEventListeners","trulyDisabled","handleClick","stopPropagation","preventDefault","currentTarget","focus","onDocumentKeyUp","e","document","handleKeyDown","defaultPrevented","metaKey","nativeEvent","shouldClickOnEnter","click","handleKeyUp","onDocumentMouseUp","button","handleMouseDown","isRightClick","preventScroll","handleMouseUp","handleMouseOver","handleMouseLeave","mergeRefs","node","undefined","disabled","role","dataAttr"],"mappings":"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"}