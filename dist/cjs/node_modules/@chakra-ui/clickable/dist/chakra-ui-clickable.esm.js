"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../utils/dist/chakra-ui-utils.esm.js"),t=require("../../react-utils/dist/chakra-ui-react-utils.esm.js");require("../../../react/index.js");var n=require("../../../../_virtual/index.js");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var o=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function a(e){var t=e.target,n=t.tagName,r=t.isContentEditable;return"INPUT"!==n&&"TEXTAREA"!==n&&!0!==r}exports.useClickable=function(u){void 0===u&&(u={});var c=u,i=c.ref,s=c.isDisabled,l=c.isFocusable,p=c.clickOnEnter,f=void 0===p||p,v=c.clickOnSpace,d=void 0===v||v,b=c.onMouseDown,k=c.onMouseUp,x=c.onClick,y=c.onKeyDown,C=c.onKeyUp,D=c.tabIndex,M=c.onMouseOver,g=c.onMouseLeave,m=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(c,o),O=n.react.exports.useState(!0),E=O[0],w=O[1],K=n.react.exports.useState(!1),U=K[0],h=K[1],j=function(){var e=n.react.exports.useRef(new Map),t=e.current,r=n.react.exports.useCallback((function(t,n,r,o){e.current.set(r,{type:n,el:t,options:o}),t.addEventListener(n,r,o)}),[]),o=n.react.exports.useCallback((function(t,n,r,o){t.removeEventListener(n,r,o),e.current.delete(r)}),[]);return n.react.exports.useEffect((function(){return function(){t.forEach((function(e,t){o(e.el,e.type,t,e.options)}))}}),[o,t]),{add:r,remove:o}}(),T=E?D:D||0,P=s&&!l,L=n.react.exports.useCallback((function(e){if(s)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null==x||x(e)}),[s,x]),R=n.react.exports.useCallback((function(e){U&&a(e)&&(e.preventDefault(),e.stopPropagation(),h(!1),j.remove(document,"keyup",R,!1))}),[U,j]),S=n.react.exports.useCallback((function(e){if(null==y||y(e),!(s||e.defaultPrevented||e.metaKey)&&a(e.nativeEvent)&&!E){var t=f&&"Enter"===e.key;if(d&&" "===e.key&&(e.preventDefault(),h(!0)),t)e.preventDefault(),e.currentTarget.click();j.add(document,"keyup",R,!1)}}),[s,E,y,f,d,j,R]),q=n.react.exports.useCallback((function(e){(null==C||C(e),s||e.defaultPrevented||e.metaKey)||a(e.nativeEvent)&&!E&&d&&" "===e.key&&(e.preventDefault(),h(!1),e.currentTarget.click())}),[d,E,s,C]),I=n.react.exports.useCallback((function(e){0===e.button&&(h(!1),j.remove(document,"mouseup",I,!1))}),[j]),N=n.react.exports.useCallback((function(t){if(!e.isRightClick(t)){if(s)return t.stopPropagation(),void t.preventDefault();E||h(!0),t.currentTarget.focus({preventScroll:!0}),j.add(document,"mouseup",I,!1),null==b||b(t)}}),[s,E,b,j,I]),A=n.react.exports.useCallback((function(t){e.isRightClick(t)||(E||h(!1),null==k||k(t))}),[k,E]),_=n.react.exports.useCallback((function(e){s?e.preventDefault():null==M||M(e)}),[s,M]),F=n.react.exports.useCallback((function(e){U&&(e.preventDefault(),h(!1)),null==g||g(e)}),[U,g]),B=t.mergeRefs(i,(function(e){e&&"BUTTON"!==e.tagName&&w(!1)}));return r({},m,E?{ref:B,type:"button","aria-disabled":P?void 0:s,disabled:P,onClick:L,onMouseDown:b,onMouseUp:k,onKeyUp:C,onKeyDown:y,onMouseOver:M,onMouseLeave:g}:{ref:B,role:"button","data-active":e.dataAttr(U),"aria-disabled":s?"true":void 0,tabIndex:P?void 0:T,onClick:L,onMouseDown:N,onMouseUp:A,onKeyUp:q,onKeyDown:S,onMouseOver:_,onMouseLeave:F})};
//# sourceMappingURL=chakra-ui-clickable.esm.js.map
