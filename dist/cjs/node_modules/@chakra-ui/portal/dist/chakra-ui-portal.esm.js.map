{"version":3,"file":"chakra-ui-portal.esm.js","sources":["../../../../../../node_modules/@chakra-ui/portal/dist/chakra-ui-portal.esm.js"],"sourcesContent":["import { __DEV__, isBrowser } from '@chakra-ui/utils';\nimport { createContext } from '@chakra-ui/react-utils';\nimport * as React from 'react';\nimport { useForceUpdate, useSafeLayoutEffect } from '@chakra-ui/hooks';\nimport { createPortal } from 'react-dom';\n\nvar _createContext$1 = createContext({\n  strict: false,\n  name: \"PortalManagerContext\"\n}),\n    PortalManagerContextProvider = _createContext$1[0],\n    usePortalManager = _createContext$1[1];\nfunction PortalManager(props) {\n  var children = props.children,\n      zIndex = props.zIndex;\n  return /*#__PURE__*/React.createElement(PortalManagerContextProvider, {\n    value: {\n      zIndex: zIndex\n    }\n  }, children);\n}\n\nif (__DEV__) {\n  PortalManager.displayName = \"PortalManager\";\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"containerRef\"];\n\nvar _createContext = createContext({\n  strict: false,\n  name: \"PortalContext\"\n}),\n    PortalContextProvider = _createContext[0],\n    usePortalContext = _createContext[1];\n\nvar PORTAL_CLASSNAME = \"chakra-portal\";\nvar PORTAL_SELECTOR = \".chakra-portal\";\n\nvar Container = function Container(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chakra-portal-zIndex\",\n    style: {\n      position: \"absolute\",\n      zIndex: props.zIndex,\n      top: 0,\n      left: 0,\n      right: 0 // NB: Don't add `bottom: 0`, it makes the entire app unusable\n      // @see https://github.com/chakra-ui/chakra-ui/issues/3201\n\n    }\n  }, props.children);\n};\n/**\n * Portal that uses `document.body` as container\n */\n\n\nvar DefaultPortal = function DefaultPortal(props) {\n  var appendToParentPortal = props.appendToParentPortal,\n      children = props.children;\n\n  var _React$useState = React.useState(null),\n      tempNode = _React$useState[0],\n      setTempNode = _React$useState[1];\n\n  var portal = React.useRef(null);\n  var forceUpdate = useForceUpdate(); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  React.useEffect(forceUpdate, []);\n  var parentPortal = usePortalContext();\n  var manager = usePortalManager();\n  useSafeLayoutEffect(function () {\n    if (!tempNode) return;\n    var doc = tempNode.ownerDocument;\n    var host = appendToParentPortal ? parentPortal != null ? parentPortal : doc.body : doc.body;\n    if (!host) return;\n    portal.current = doc.createElement(\"div\");\n    portal.current.className = PORTAL_CLASSNAME;\n    host.appendChild(portal.current);\n    forceUpdate();\n    var portalNode = portal.current;\n    return function () {\n      if (host.contains(portalNode)) {\n        host.removeChild(portalNode);\n      }\n    };\n  }, [tempNode]);\n\n  var _children = manager != null && manager.zIndex ? /*#__PURE__*/React.createElement(Container, {\n    zIndex: manager == null ? void 0 : manager.zIndex\n  }, children) : children;\n\n  return portal.current ? /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(PortalContextProvider, {\n    value: portal.current\n  }, _children), portal.current) : /*#__PURE__*/React.createElement(\"span\", {\n    ref: function ref(el) {\n      if (el) setTempNode(el);\n    }\n  });\n};\n\n/**\n * Portal that uses a custom container\n */\nvar ContainerPortal = function ContainerPortal(props) {\n  var children = props.children,\n      containerRef = props.containerRef,\n      appendToParentPortal = props.appendToParentPortal;\n  var containerEl = containerRef.current;\n  var host = containerEl != null ? containerEl : isBrowser ? document.body : undefined;\n  var portal = React.useMemo(function () {\n    var node = containerEl == null ? void 0 : containerEl.ownerDocument.createElement(\"div\");\n    if (node) node.className = PORTAL_CLASSNAME;\n    return node;\n  }, [containerEl]);\n  var forceUpdate = useForceUpdate();\n  useSafeLayoutEffect(function () {\n    forceUpdate();\n  }, []);\n  useSafeLayoutEffect(function () {\n    if (!portal || !host) return;\n    host.appendChild(portal);\n    return function () {\n      host.removeChild(portal);\n    };\n  }, [portal, host]);\n\n  if (host && portal) {\n    return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(PortalContextProvider, {\n      value: appendToParentPortal ? portal : null\n    }, children), portal);\n  }\n\n  return null;\n};\n\n/**\n * Portal\n *\n * Declarative component used to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n *\n * @see Docs https://chakra-ui.com/portal\n */\nfunction Portal(props) {\n  var containerRef = props.containerRef,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  return containerRef ? /*#__PURE__*/React.createElement(ContainerPortal, _extends({\n    containerRef: containerRef\n  }, rest)) : /*#__PURE__*/React.createElement(DefaultPortal, rest);\n}\nPortal.defaultProps = {\n  appendToParentPortal: true\n};\nPortal.className = PORTAL_CLASSNAME;\nPortal.selector = PORTAL_SELECTOR;\n\nif (__DEV__) {\n  Portal.displayName = \"Portal\";\n}\n\nexport { Portal, PortalManager, usePortalManager };\n"],"names":["usePortalManager","createContext","strict","name","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_excluded","_createContext","PortalContextProvider","usePortalContext","Container","props","React.createElement","className","style","position","zIndex","top","left","right","children","DefaultPortal","appendToParentPortal","_React$useState","React.useState","react","exports","useState","tempNode","setTempNode","portal","React.useRef","forceUpdate","useForceUpdate","React.useEffect","parentPortal","manager","useSafeLayoutEffect","doc","ownerDocument","host","body","current","createElement","appendChild","portalNode","contains","removeChild","_children","createPortal","value","ref","el","ContainerPortal","containerRef","containerEl","isBrowser","document","undefined","React.useMemo","node","reactDom","Portal","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","defaultProps","selector","__DEV__","displayName"],"mappings":"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"}