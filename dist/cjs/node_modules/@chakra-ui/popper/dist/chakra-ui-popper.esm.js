"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../react-utils/dist/chakra-ui-react-utils.esm.js"),e=require("../../../@popperjs/core/lib/popper.js");require("../../../react/index.js");var t=require("../../../../_virtual/index.js");function o(){return o=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},o.apply(this,arguments)}var a=function(r,e){return{var:r,varRef:e?"var("+r+", "+e+")":"var("+r+")"}},n={arrowShadowColor:a("--popper-arrow-shadow-color"),arrowSize:a("--popper-arrow-size","8px"),arrowSizeHalf:a("--popper-arrow-size-half"),arrowBg:a("--popper-arrow-bg"),transformOrigin:a("--popper-transform-origin"),arrowOffset:a("--popper-arrow-offset")};var i={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},s={scroll:!0,resize:!0};var p={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(r){var e=r.state;e.styles.popper.width=e.rects.reference.width+"px"},effect:function(r){var e=r.state;return function(){var r=e.elements.reference;e.elements.popper.style.width=r.offsetWidth+"px"}}},l={name:"transformOrigin",enabled:!0,phase:"write",fn:function(r){var e=r.state;f(e)},effect:function(r){var e=r.state;return function(){f(e)}}},f=function(r){var e;r.elements.popper.style.setProperty(n.transformOrigin.var,(e=r.placement,i[e]))},u={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:function(r){var e=r.state;c(e)}},c=function(r){var e;if(r.placement){var t=d(r.placement);if(null!=(e=r.elements)&&e.arrow&&t){var o,a;Object.assign(r.elements.arrow.style,((o={})[t.property]=t.value,o.width=n.arrowSize.varRef,o.height=n.arrowSize.varRef,o.zIndex=-1,o));var i=((a={})[n.arrowSizeHalf.var]="calc("+n.arrowSize.varRef+" / 2)",a[n.arrowOffset.var]="calc("+n.arrowSizeHalf.varRef+" * -1)",a);for(var s in i)r.elements.arrow.style.setProperty(s,i[s])}}},d=function(r){return r.startsWith("top")?{property:"bottom",value:n.arrowOffset.varRef}:r.startsWith("bottom")?{property:"top",value:n.arrowOffset.varRef}:r.startsWith("left")?{property:"right",value:n.arrowOffset.varRef}:r.startsWith("right")?{property:"left",value:n.arrowOffset.varRef}:void 0},v={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:function(r){var e=r.state;w(e)},effect:function(r){var e=r.state;return function(){w(e)}}},w=function(r){if(r.elements.arrow){var e,t=r.elements.arrow.querySelector("[data-popper-arrow-inner]");if(t)Object.assign(t.style,{transform:"rotate(45deg)",background:n.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:(e=r.placement,e.includes("top")?"1px 1px 1px 0 var(--popper-arrow-shadow-color)":e.includes("bottom")?"-1px -1px 1px 0 var(--popper-arrow-shadow-color)":e.includes("right")?"-1px 1px 1px 0 var(--popper-arrow-shadow-color)":e.includes("left")?"1px -1px 1px 0 var(--popper-arrow-shadow-color)":void 0)})}},h={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},m={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};var b=["size","shadowColor","bg","style"];function g(r){var e=r.size,t=r.shadowColor,a=r.bg,n=o({},r.style,{position:"absolute"});return e&&(n["--popper-arrow-size"]=e),t&&(n["--popper-arrow-shadow-color"]=t),a&&(n["--popper-arrow-bg"]=a),n}exports.popperCSSVars=n,exports.usePopper=function(a){void 0===a&&(a={});var i=a,f=i.enabled,c=void 0===f||f,d=i.modifiers,w=i.placement,x=void 0===w?"bottom":w,y=i.strategy,O=void 0===y?"absolute":y,R=i.arrowPadding,z=void 0===R?8:R,j=i.eventListeners,P=void 0===j||j,S=i.offset,C=i.gutter,k=void 0===C?8:C,W=i.flip,q=void 0===W||W,A=i.boundary,H=void 0===A?"clippingParents":A,I=i.preventOverflow,U=void 0===I||I,_=i.matchWidth,B=i.direction,L=void 0===B?"ltr":B,E=t.react.exports.useRef(null),M=t.react.exports.useRef(null),V=t.react.exports.useRef(null),D=function(r,e){var t,o;void 0===e&&(e="ltr");var a=(null==(t=h[r])?void 0:t[e])||r;return"ltr"===e?a:null!=(o=m[r])?o:a}(x,L),F=t.react.exports.useRef((function(){})),G=t.react.exports.useCallback((function(){var r;c&&E.current&&M.current&&(null==F.current||F.current(),V.current=e.createPopper(E.current,M.current,{placement:D,modifiers:[v,u,l,o({},p,{enabled:!!_}),o({name:"eventListeners"},(r=P,"object"==typeof r?{enabled:!0,options:o({},s,r)}:{enabled:r,options:s})),{name:"arrow",options:{padding:z}},{name:"offset",options:{offset:null!=S?S:[0,k]}},{name:"flip",enabled:!!q,options:{padding:8}},{name:"preventOverflow",enabled:!!U,options:{boundary:H}}].concat(null!=d?d:[]),strategy:O}),V.current.forceUpdate(),F.current=V.current.destroy)}),[D,c,d,_,P,z,S,k,q,U,H,O]);t.react.exports.useEffect((function(){return function(){var r;E.current||M.current||(null==(r=V.current)||r.destroy(),V.current=null)}}),[]);var J=t.react.exports.useCallback((function(r){E.current=r,G()}),[G]),K=t.react.exports.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),o({},e,{ref:r.mergeRefs(J,t)})}),[J]),N=t.react.exports.useCallback((function(r){M.current=r,G()}),[G]),Q=t.react.exports.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),o({},e,{ref:r.mergeRefs(N,t),style:o({},e.style,{position:O,minWidth:_?void 0:"max-content",inset:"0 auto auto 0"})})}),[O,N,_]),T=t.react.exports.useCallback((function(r,e){void 0===r&&(r={}),void 0===e&&(e=null);var t=r;return t.size,t.shadowColor,t.bg,t.style,o({},function(r,e){if(null==r)return{};var t,o,a={},n=Object.keys(r);for(o=0;o<n.length;o++)t=n[o],e.indexOf(t)>=0||(a[t]=r[t]);return a}(t,b),{ref:e,"data-popper-arrow":"",style:g(r)})}),[]),X=t.react.exports.useCallback((function(r,e){return void 0===r&&(r={}),void 0===e&&(e=null),o({},r,{ref:e,"data-popper-arrow-inner":""})}),[]);return{update:function(){var r;null==(r=V.current)||r.update()},forceUpdate:function(){var r;null==(r=V.current)||r.forceUpdate()},transformOrigin:n.transformOrigin.varRef,referenceRef:J,popperRef:N,getPopperProps:Q,getArrowProps:T,getArrowInnerProps:X,getReferenceProps:K}};
//# sourceMappingURL=chakra-ui-popper.esm.js.map
