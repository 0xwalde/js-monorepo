"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../utils/dist/chakra-ui-utils.esm.js"),t=require("../../react-utils/dist/chakra-ui-react-utils.esm.js");require("../../../react/index.js");var a=require("../../hooks/dist/chakra-ui-hooks.esm.js"),r=require("../../system/dist/chakra-ui-system.esm.js"),n=require("../../form-control/dist/chakra-ui-form-control.esm.js"),o=require("../../visually-hidden/dist/chakra-ui-visually-hidden.esm.js"),i=require("../../../@zag-js/focus-visible/dist/index.mjs.js"),s=require("../../../framer-motion/dist/es/render/dom/motion.mjs.js"),l=require("../../hooks/dist/use-animation-state-5054a9f7.esm.js"),c=require("../../../framer-motion/dist/es/components/AnimatePresence/index.mjs.js"),d=require("../../../../_virtual/index.js");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u.apply(this,arguments)}var h=t.createContext({name:"CheckboxGroupContext",strict:!1})[1];function p(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}var f=["isIndeterminate","isChecked"];var m,k,v=(m=r.chakra.svg,"custom"in(k=s.motion)&&"function"==typeof k.custom?k.custom(m):k(m)),b=function(e){return d.react.exports.createElement(v,u({width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),d.react.exports.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))},x=function(e){return d.react.exports.createElement(v,u({width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4}},e),d.react.exports.createElement("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))},y=function(e){var t=e.open,a=e.children;return d.react.exports.createElement(c.AnimatePresence,{initial:!1},t&&d.react.exports.createElement(s.motion.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},a))},C=function(e){var t=e.isIndeterminate,a=e.isChecked,r=p(e,f),n=t?x:b;return d.react.exports.createElement(y,{open:a||t},d.react.exports.createElement(n,r))},g=["defaultChecked","isChecked","isFocusable","onChange","isIndeterminate","name","value","tabIndex","aria-label","aria-labelledby","aria-invalid"];function A(r){void 0===r&&(r={});var s=n.useFormControlProps(r),c=s.isDisabled,h=s.isReadOnly,f=s.isRequired,m=s.isInvalid,k=s.id,v=s.onBlur,b=s.onFocus,x=s["aria-describedby"],y=r,C=y.defaultChecked,A=y.isChecked,I=y.isFocusable,_=y.onChange,D=y.isIndeterminate,E=y.name,P=y.value,q=y.tabIndex,S=void 0===q?void 0:q,H=y["aria-label"],M=y["aria-labelledby"],w=y["aria-invalid"],B=p(y,g),R=e.omit(B,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),O=l.u(_),F=l.u(v),N=l.u(b),L=d.react.exports.useState(!1),U=L[0],z=L[1],K=a.useBoolean(),T=K[0],X=K[1],G=a.useBoolean(),V=G[0],W=G[1],J=a.useBoolean(),Q=J[0],Y=J[1];d.react.exports.useEffect((function(){return i.trackFocusVisible(z)}),[]);var Z=d.react.exports.useRef(null),$=d.react.exports.useState(!0),ee=$[0],te=$[1],ae=d.react.exports.useState(!!C),re=ae[0],ne=ae[1],oe=a.useControllableProp(A,re),ie=oe[0],se=oe[1],le=d.react.exports.useCallback((function(e){h||c?e.preventDefault():(ie||ne(se?e.target.checked:!!D||e.target.checked),null==O||O(e))}),[h,c,se,ie,D,O]);l.a((function(){Z.current&&(Z.current.indeterminate=Boolean(D))}),[D]),a.useUpdateEffect((function(){c&&X.off()}),[c,X]),l.a((function(){var e=Z.current;null!=e&&e.form&&(e.form.onreset=function(){ne(!!C)})}),[]);var ce=c&&!I,de=d.react.exports.useCallback((function(e){" "===e.key&&Y.on()}),[Y]),ue=d.react.exports.useCallback((function(e){" "===e.key&&Y.off()}),[Y]);l.a((function(){Z.current&&(Z.current.checked!==se&&ne(Z.current.checked))}),[Z.current]);var he=d.react.exports.useCallback((function(t,a){void 0===t&&(t={}),void 0===a&&(a=null);return u({},t,{ref:a,"data-active":e.dataAttr(Q),"data-hover":e.dataAttr(V),"data-checked":e.dataAttr(se),"data-focus":e.dataAttr(T),"data-focus-visible":e.dataAttr(T&&U),"data-indeterminate":e.dataAttr(D),"data-disabled":e.dataAttr(c),"data-invalid":e.dataAttr(m),"data-readonly":e.dataAttr(h),"aria-hidden":!0,onMouseDown:e.callAllHandlers(t.onMouseDown,(function(e){T&&e.preventDefault(),Y.on()})),onMouseUp:e.callAllHandlers(t.onMouseUp,Y.off),onMouseEnter:e.callAllHandlers(t.onMouseEnter,W.on),onMouseLeave:e.callAllHandlers(t.onMouseLeave,W.off)})}),[Q,se,c,T,U,V,D,m,h,Y,W.off,W.on]),pe=d.react.exports.useCallback((function(a,r){return void 0===a&&(a={}),void 0===r&&(r=null),u({},R,a,{ref:t.mergeRefs(r,(function(e){e&&te("LABEL"===e.tagName)})),onClick:e.callAllHandlers(a.onClick,(function(){var t;ee||(null==(t=Z.current)||t.click(),e.focus(Z.current,{nextTick:!0}))})),"data-disabled":e.dataAttr(c),"data-checked":e.dataAttr(se),"data-invalid":e.dataAttr(m)})}),[R,c,se,m,ee]),fe=d.react.exports.useCallback((function(a,r){return void 0===a&&(a={}),void 0===r&&(r=null),u({},a,{ref:t.mergeRefs(Z,r),type:"checkbox",name:E,value:P,id:k,tabIndex:S,onChange:e.callAllHandlers(a.onChange,le),onBlur:e.callAllHandlers(a.onBlur,F,X.off),onFocus:e.callAllHandlers(a.onFocus,N,X.on),onKeyDown:e.callAllHandlers(a.onKeyDown,de),onKeyUp:e.callAllHandlers(a.onKeyUp,ue),required:f,checked:se,disabled:ce,readOnly:h,"aria-label":H,"aria-labelledby":M,"aria-invalid":w?Boolean(w):m,"aria-describedby":x,"aria-disabled":c,style:o.visuallyHiddenStyle})}),[E,P,k,le,X.off,X.on,F,N,de,ue,f,se,ce,h,H,M,w,m,x,c,S]),me=d.react.exports.useCallback((function(t,a){return void 0===t&&(t={}),void 0===a&&(a=null),u({},t,{ref:a,onMouseDown:e.callAllHandlers(t.onMouseDown,j),onTouchStart:e.callAllHandlers(t.onTouchStart,j),"data-disabled":e.dataAttr(c),"data-checked":e.dataAttr(se),"data-invalid":e.dataAttr(m)})}),[se,c,m]);return{state:{isInvalid:m,isFocused:T,isChecked:se,isActive:Q,isHovered:V,isIndeterminate:D,isDisabled:c,isReadOnly:h,isRequired:f},getRootProps:pe,getCheckboxProps:he,getInputProps:fe,getLabelProps:me,htmlProps:R}}function j(e){e.preventDefault(),e.stopPropagation()}var I=["spacing","className","children","iconColor","iconSize","icon","isChecked","isDisabled","onChange","inputProps"],_=r.chakra("span",{baseStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0}}),D=r.chakra("label",{baseStyle:{cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"}}),E=r.forwardRef((function(t,a){var n=h(),o=u({},n,t),i=r.useMultiStyleConfig("Checkbox",o),s=r.omitThemingProps(t),l=s.spacing,c=void 0===l?"0.5rem":l,f=s.className,m=s.children,k=s.iconColor,v=s.iconSize,b=s.icon,x=void 0===b?d.react.exports.createElement(C,null):b,y=s.isChecked,g=s.isDisabled,j=void 0===g?null==n?void 0:n.isDisabled:g,E=s.onChange,P=s.inputProps,q=p(s,I),S=y;null!=n&&n.value&&s.value&&(S=n.value.includes(s.value));var H=E;null!=n&&n.onChange&&s.value&&(H=e.callAll(n.onChange,E));var M=A(u({},q,{isDisabled:j,isChecked:S,onChange:H})),w=M.state,B=M.getInputProps,R=M.getCheckboxProps,O=M.getLabelProps,F=M.getRootProps,N=d.react.exports.useMemo((function(){return u({opacity:w.isChecked||w.isIndeterminate?1:0,transform:w.isChecked||w.isIndeterminate?"scale(1)":"scale(0.95)",fontSize:v,color:k},i.icon)}),[k,v,w.isChecked,w.isIndeterminate,i.icon]),L=d.react.exports.cloneElement(x,{__css:N,isIndeterminate:w.isIndeterminate,isChecked:w.isChecked});return d.react.exports.createElement(D,u({__css:i.container,className:e.cx("chakra-checkbox",f)},F()),d.react.exports.createElement("input",u({className:"chakra-checkbox__input"},B(P,a))),d.react.exports.createElement(_,u({__css:i.control,className:"chakra-checkbox__control"},R()),L),m&&d.react.exports.createElement(r.chakra.span,u({className:"chakra-checkbox__label"},O(),{__css:u({marginStart:c},i.label)}),m))}));e.__DEV__&&(E.displayName="Checkbox"),exports.Checkbox=E,exports.useCheckbox=A,exports.useCheckboxGroupContext=h;
//# sourceMappingURL=chakra-ui-checkbox.esm.js.map
