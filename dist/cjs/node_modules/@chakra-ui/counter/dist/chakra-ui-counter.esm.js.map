{"version":3,"file":"chakra-ui-counter.esm.js","sources":["../../../../../../node_modules/@chakra-ui/counter/dist/chakra-ui-counter.esm.js"],"sourcesContent":["import { useCallbackRef, useControllableProp } from '@chakra-ui/hooks';\nimport { countDecimalPlaces, clampValue, toPrecision, minSafeInteger, maxSafeInteger } from '@chakra-ui/utils';\nimport { useState, useCallback } from 'react';\n\nfunction useCounter(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onChange = _props.onChange,\n      precisionProp = _props.precision,\n      defaultValue = _props.defaultValue,\n      valueProp = _props.value,\n      _props$step = _props.step,\n      stepProp = _props$step === void 0 ? 1 : _props$step,\n      _props$min = _props.min,\n      min = _props$min === void 0 ? minSafeInteger : _props$min,\n      _props$max = _props.max,\n      max = _props$max === void 0 ? maxSafeInteger : _props$max,\n      _props$keepWithinRang = _props.keepWithinRange,\n      keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang;\n  var onChangeProp = useCallbackRef(onChange);\n\n  var _useState = useState(function () {\n    var _cast;\n\n    if (defaultValue == null) return \"\";\n    return (_cast = cast(defaultValue, stepProp, precisionProp)) != null ? _cast : \"\";\n  }),\n      valueState = _useState[0],\n      setValue = _useState[1];\n  /**\n   * Because the component that consumes this hook can be controlled or uncontrolled\n   * we'll keep track of that\n   */\n\n\n  var _useControllableProp = useControllableProp(valueProp, valueState),\n      isControlled = _useControllableProp[0],\n      value = _useControllableProp[1];\n\n  var decimalPlaces = getDecimalPlaces(parse(value), stepProp);\n  var precision = precisionProp != null ? precisionProp : decimalPlaces;\n  var update = useCallback(function (next) {\n    if (next === value) return;\n\n    if (!isControlled) {\n      setValue(next.toString());\n    }\n\n    onChangeProp == null ? void 0 : onChangeProp(next.toString(), parse(next));\n  }, [onChangeProp, isControlled, value]); // Function to clamp the value and round it to the precision\n\n  var clamp = useCallback(function (value) {\n    var nextValue = value;\n\n    if (keepWithinRange) {\n      nextValue = clampValue(nextValue, min, max);\n    }\n\n    return toPrecision(nextValue, precision);\n  }, [precision, keepWithinRange, max, min]);\n  var increment = useCallback(function (step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    var next;\n    /**\n     * Let's follow the native browser behavior for\n     * scenarios where the input starts empty (\"\")\n     */\n\n    if (value === \"\") {\n      /**\n       * If `min` is set, native input, starts at the `min`.\n       * Else, it starts at `step`\n       */\n      next = parse(step);\n    } else {\n      next = parse(value) + step;\n    }\n\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var decrement = useCallback(function (step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    var next; // Same thing here. We'll follow native implementation\n\n    if (value === \"\") {\n      next = parse(-step);\n    } else {\n      next = parse(value) - step;\n    }\n\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var reset = useCallback(function () {\n    var next;\n\n    if (defaultValue == null) {\n      next = \"\";\n    } else {\n      var _cast2;\n\n      next = (_cast2 = cast(defaultValue, stepProp, precisionProp)) != null ? _cast2 : min;\n    }\n\n    update(next);\n  }, [defaultValue, precisionProp, stepProp, update, min]);\n  var castValue = useCallback(function (value) {\n    var _cast3;\n\n    var nextValue = (_cast3 = cast(value, stepProp, precision)) != null ? _cast3 : min;\n    update(nextValue);\n  }, [precision, stepProp, update, min]);\n  var valueAsNumber = parse(value);\n  /**\n   * Common range checks\n   */\n\n  var isOutOfRange = valueAsNumber > max || valueAsNumber < min;\n  var isAtMax = valueAsNumber === max;\n  var isAtMin = valueAsNumber === min;\n  return {\n    isOutOfRange: isOutOfRange,\n    isAtMax: isAtMax,\n    isAtMin: isAtMin,\n    precision: precision,\n    value: value,\n    valueAsNumber: valueAsNumber,\n    update: update,\n    reset: reset,\n    increment: increment,\n    decrement: decrement,\n    clamp: clamp,\n    cast: castValue,\n    setValue: setValue\n  };\n}\n\nfunction parse(value) {\n  return parseFloat(value.toString().replace(/[^\\w.-]+/g, \"\"));\n}\n\nfunction getDecimalPlaces(value, step) {\n  return Math.max(countDecimalPlaces(step), countDecimalPlaces(value));\n}\n\nfunction cast(value, step, precision) {\n  var parsedValue = parse(value);\n  if (Number.isNaN(parsedValue)) return undefined;\n  var decimalPlaces = getDecimalPlaces(parsedValue, step);\n  return toPrecision(parsedValue, precision != null ? precision : decimalPlaces);\n}\n\nexport { useCounter };\n"],"names":["parse","value","parseFloat","toString","replace","getDecimalPlaces","step","Math","max","countDecimalPlaces","cast","precision","parsedValue","Number","isNaN","decimalPlaces","toPrecision","props","_props","onChange","precisionProp","defaultValue","valueProp","_props$step","stepProp","_props$min","min","minSafeInteger","_props$max","maxSafeInteger","_props$keepWithinRang","keepWithinRange","onChangeProp","useCallbackRef","_useState","useState","_cast","valueState","setValue","_useControllableProp","useControllableProp","isControlled","update","useCallback","next","clamp","nextValue","clampValue","increment","decrement","reset","_cast2","castValue","_cast3","valueAsNumber","isOutOfRange","isAtMax","isAtMin"],"mappings":"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"}