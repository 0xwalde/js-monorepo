{"version":3,"file":"use-features.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/motion/features/use-features.mjs"],"sourcesContent":["import { __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { env } from '../../utils/process.mjs';\nimport { featureDefinitions } from './definitions.mjs';\nimport { invariant } from 'hey-listen';\nimport { LazyContext } from '../../context/LazyContext.mjs';\n\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n    var features = [];\n    var lazyContext = useContext(LazyContext);\n    if (!visualElement)\n        return null;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (env !== \"production\" && preloadedFeatures && lazyContext.strict) {\n        invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n    }\n    for (var i = 0; i < numFeatures; i++) {\n        var name_1 = featureNames[i];\n        var _a = featureDefinitions[name_1], isEnabled = _a.isEnabled, Component = _a.Component;\n        /**\n         * It might be possible in the future to use this moment to\n         * dynamically request functionality. In initial tests this\n         * was producing a lot of duplication amongst bundles.\n         */\n        if (isEnabled(props) && Component) {\n            features.push(React.createElement(Component, __assign({ key: name_1 }, props, { visualElement: visualElement })));\n        }\n    }\n    return features;\n}\n\nexport { useFeatures };\n"],"names":["featureNames","Object","keys","featureDefinitions","numFeatures","length","props","visualElement","preloadedFeatures","features","lazyContext","useContext","LazyContext","env","strict","invariant","i","name_1","_a","isEnabled","Component","push","React.createElement","__assign","key"],"mappings":"0YAQIA,EAAeC,OAAOC,KAAKC,EAAAA,oBAC3BC,EAAcJ,EAAaK,2BAI/B,SAAqBC,EAAOC,EAAeC,GACvC,IAAIC,EAAW,GACXC,EAAcC,2BAAWC,EAAAA,aAC7B,IAAKL,EACD,OAAO,KAKC,eAARM,EAAGA,KAAqBL,GAAqBE,EAAYI,QACzDC,aAAU,EAAO,oJAErB,IAAK,IAAIC,EAAI,EAAGA,EAAIZ,EAAaY,IAAK,CAClC,IAAIC,EAASjB,EAAagB,GACtBE,EAAKf,qBAAmBc,GAASE,EAAYD,EAAGC,UAAWC,EAAYF,EAAGE,UAM1ED,EAAUb,IAAUc,GACpBX,EAASY,KAAKC,EAAAA,MAAAA,QAAAA,cAAoBF,EAAWG,EAAAA,SAAS,CAAEC,IAAKP,GAAUX,EAAO,CAAEC,cAAeA,KAEtG,CACD,OAAOE,CACX"}