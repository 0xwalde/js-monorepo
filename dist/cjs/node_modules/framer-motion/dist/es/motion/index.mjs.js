"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../../../tslib/tslib.es6.js");require("../../../../react/index.js");var t=require("./features/use-features.mjs.js"),s=require("../context/MotionConfigContext.mjs.js"),r=require("../context/MotionContext/index.mjs.js"),i=require("./utils/use-visual-element.mjs.js"),o=require("./utils/use-motion-ref.mjs.js"),n=require("../context/MotionContext/create.mjs.js"),u=require("./features/definitions.mjs.js"),a=require("../utils/is-browser.mjs.js"),l=require("../projection/node/id.mjs.js"),j=require("../context/LayoutGroupContext.mjs.js"),c=require("./features/use-projection.mjs.js"),m=require("./utils/VisualElementHandler.mjs.js"),d=require("../../../../../_virtual/index.js");exports.createMotionComponent=function(x){var v=x.preloadedFeatures,p=x.createVisualElement,f=x.projectionNodeConstructor,C=x.useRender,q=x.useVisualState,_=x.Component;return v&&u.loadFeatures(v),d.react.exports.forwardRef((function(x,E){var M=function(e){var t,s=e.layoutId,r=null===(t=d.react.exports.useContext(j.LayoutGroupContext))||void 0===t?void 0:t.id;return r&&void 0!==s?r+"-"+s:s}(x);x=e.__assign(e.__assign({},x),{layoutId:M});var g=d.react.exports.useContext(s.MotionConfigContext),y=null,S=n.useCreateMotionContext(x),V=g.isStatic?void 0:l.useProjectionId(),b=q(x,g.isStatic);return!g.isStatic&&a.isBrowser&&(S.visualElement=i.useVisualElement(_,b,e.__assign(e.__assign({},g),x),p),c.useProjection(V,x,S.visualElement,f||u.featureDefinitions.projectionNodeConstructor),y=t.useFeatures(x,S.visualElement,v)),d.react.exports.createElement(m.VisualElementHandler,{visualElement:S.visualElement,props:e.__assign(e.__assign({},g),x)},y,d.react.exports.createElement(r.MotionContext.Provider,{value:S},C(_,x,V,o.useMotionRef(b,S.visualElement,E),b,g.isStatic,S.visualElement)))}))};
//# sourceMappingURL=index.mjs.js.map
