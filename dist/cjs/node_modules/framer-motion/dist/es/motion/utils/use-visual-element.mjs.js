"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("../../../../../react/index.js");var e=require("../../context/PresenceContext.mjs.js"),t=require("../../context/MotionContext/index.mjs.js"),n=require("../../utils/use-isomorphic-effect.mjs.js"),r=require("../../context/LazyContext.mjs.js"),o=require("../../utils/use-reduced-motion.mjs.js"),u=require("../../../../../../_virtual/index.js");exports.useVisualElement=function(i,s,c,a){var l=u.react.exports.useContext(r.LazyContext),d=t.useVisualElementContext(),x=u.react.exports.useContext(e.PresenceContext),f=o.useReducedMotionConfig(),m=u.react.exports.useRef(void 0);a||(a=l.renderer),!m.current&&a&&(m.current=a(i,{visualState:s,parent:d,props:c,presenceId:null==x?void 0:x.id,blockInitialAnimation:!1===(null==x?void 0:x.initial),shouldReduceMotion:f}));var p=m.current;return n.useIsomorphicLayoutEffect((function(){null==p||p.syncRender()})),u.react.exports.useEffect((function(){var e;null===(e=null==p?void 0:p.animationState)||void 0===e||e.animateChanges()})),n.useIsomorphicLayoutEffect((function(){return function(){return null==p?void 0:p.notifyUnmount()}}),[]),p};
//# sourceMappingURL=use-visual-element.mjs.js.map
