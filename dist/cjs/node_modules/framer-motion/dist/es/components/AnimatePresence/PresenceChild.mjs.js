"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../../../../tslib/tslib.es6.js");require("../../../../../react/index.js");var t=require("../../context/PresenceContext.mjs.js"),r=require("../../utils/use-constant.mjs.js"),n=require("../../utils/use-id.mjs.js"),s=require("../../../../../../_virtual/index.js");function i(){return new Map}exports.PresenceChild=function(u){var o=u.children,c=u.initial,l=u.isPresent,a=u.onExitComplete,f=u.custom,x=u.presenceAffectsLayout,d=r.useConstant(i),v=n.useId(),p=s.react.exports.useMemo((function(){return{id:v,initial:c,isPresent:l,custom:f,onExitComplete:function(t){var r,n;d.set(t,!0);try{for(var s=e.__values(d.values()),i=s.next();!i.done;i=s.next()){if(!i.value)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}null==a||a()},register:function(e){return d.set(e,!1),function(){return d.delete(e)}}}}),x?void 0:[l]);return s.react.exports.useMemo((function(){d.forEach((function(e,t){return d.set(t,!1)}))}),[l]),s.react.exports.useEffect((function(){!l&&!d.size&&(null==a||a())}),[l]),s.react.exports.createElement(t.PresenceContext.Provider,{value:p},o)};
//# sourceMappingURL=PresenceChild.mjs.js.map
