"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("../../../../react/index.js");var e=require("./utils/is-node-or-child.mjs.js"),t=require("../events/use-pointer-event.mjs.js"),n=require("../utils/use-unmount-effect.mjs.js"),r=require("../render/utils/types.mjs.js"),i=require("./drag/utils/lock.mjs.js"),u=require("../../../../popmotion/dist/es/utils/pipe.mjs.js"),s=require("../../../../../_virtual/index.js");exports.useTapGesture=function(o){var a=o.onTap,l=o.onTapStart,c=o.onTapCancel,p=o.whileTap,d=o.visualElement,v=a||l||c||p,j=s.react.exports.useRef(!1),m=s.react.exports.useRef(null),f={passive:!(l||a||c||A)};function T(){var e;null===(e=m.current)||void 0===e||e.call(m),m.current=null}function q(){var e;return T(),j.current=!1,null===(e=d.animationState)||void 0===e||e.setActive(r.AnimationType.Tap,!1),!i.isDragActive()}function w(t,n){q()&&(e.isNodeOrChild(d.getInstance(),t.target)?null==a||a(t,n):null==c||c(t,n))}function x(e,t){q()&&(null==c||c(e,t))}function A(e,n){var i;T(),j.current||(j.current=!0,m.current=u.pipe(t.addPointerEvent(window,"pointerup",w,f),t.addPointerEvent(window,"pointercancel",x,f)),null===(i=d.animationState)||void 0===i||i.setActive(r.AnimationType.Tap,!0),null==l||l(e,n))}t.usePointerEvent(d,"pointerdown",v?A:void 0,f),n.useUnmountEffect(T)};
//# sourceMappingURL=use-tap-gesture.mjs.js.map
