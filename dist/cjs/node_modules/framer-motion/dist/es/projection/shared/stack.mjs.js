"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../utils/array.mjs.js"),t=function(){function t(){this.members=[]}return t.prototype.add=function(t){e.addUniqueItem(this.members,t),t.scheduleRender()},t.prototype.remove=function(t){if(e.removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var o=this.members[this.members.length-1];o&&this.promote(o)}},t.prototype.relegate=function(e){var t,o=this.members.findIndex((function(t){return e===t}));if(0===o)return!1;for(var s=o;s>=0;s--){var r=this.members[s];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)},t.prototype.promote=function(e,t){var o,s=this.lead;e!==s&&(this.prevLead=s,this.lead=e,e.show(),s&&(s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues,e.snapshot.isShared=!0),(null===(o=e.root)||void 0===o?void 0:o.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&s.hide()))},t.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,o,s,r,i;null===(o=(t=e.options).onExitComplete)||void 0===o||o.call(t),null===(i=null===(s=e.resumingFrom)||void 0===s?void 0:(r=s.options).onExitComplete)||void 0===i||i.call(r)}))},t.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},t.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},t}();exports.NodeStack=t;
//# sourceMappingURL=stack.mjs.js.map
