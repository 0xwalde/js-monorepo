{"version":3,"file":"delta-remove.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs"],"sourcesContent":["import { __read } from 'tslib';\nimport { mix } from 'popmotion';\nimport { percent } from 'style-value-types';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale, originAxis, sourceAxis) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    if (origin === void 0) { origin = 0.5; }\n    if (originAxis === void 0) { originAxis = axis; }\n    if (sourceAxis === void 0) { sourceAxis = axis; }\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        var relativeProgress = mix(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    var originPoint = mix(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, _a, origin, sourceAxis) {\n    var _b = __read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox === null || originBox === void 0 ? void 0 : originBox.x, sourceBox === null || sourceBox === void 0 ? void 0 : sourceBox.x);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox === null || originBox === void 0 ? void 0 : originBox.y, sourceBox === null || sourceBox === void 0 ? void 0 : sourceBox.y);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n"],"names":["removePointDelta","point","translate","scale","originPoint","boxScale","scalePoint","undefined","removeAxisDelta","axis","origin","originAxis","sourceAxis","percent","test","parseFloat","mix","min","max","removeAxisTransforms","transforms","_a","_b","__read","key","scaleKey","originKey","xKeys","yKeys","box","originBox","sourceBox","x","y"],"mappings":"mSAQA,SAASA,EAAiBC,EAAOC,EAAWC,EAAOC,EAAaC,GAM5D,OALAJ,GAASC,EACTD,EAAQK,EAAUA,WAACL,EAAO,EAAIE,EAAOC,QACpBG,IAAbF,IACAJ,EAAQK,EAAUA,WAACL,EAAO,EAAII,EAAUD,IAErCH,CACX,CAIA,SAASO,EAAgBC,EAAMP,EAAWC,EAAOO,EAAQL,EAAUM,EAAYC,SACzD,IAAdV,IAAwBA,EAAY,QAC1B,IAAVC,IAAoBA,EAAQ,QACjB,IAAXO,IAAqBA,EAAS,SACf,IAAfC,IAAyBA,EAAaF,QACvB,IAAfG,IAAyBA,EAAaH,GACtCI,EAAOA,QAACC,KAAKZ,MACbA,EAAYa,WAAWb,GAEvBA,EADuBc,EAAGA,IAACJ,EAAWK,IAAKL,EAAWM,IAAKhB,EAAY,KACxCU,EAAWK,KAE9C,GAAyB,iBAAdf,EAAX,CAEA,IAAIE,EAAcY,EAAAA,IAAIL,EAAWM,IAAKN,EAAWO,IAAKR,GAClDD,IAASE,IACTP,GAAeF,GACnBO,EAAKQ,IAAMjB,EAAiBS,EAAKQ,IAAKf,EAAWC,EAAOC,EAAaC,GACrEI,EAAKS,IAAMlB,EAAiBS,EAAKS,IAAKhB,EAAWC,EAAOC,EAAaC,EAL1D,CAMf,CAKA,SAASc,EAAqBV,EAAMW,EAAYC,EAAIX,EAAQE,GACxD,IAAIU,EAAKC,EAAAA,OAAOF,EAAI,GAAIG,EAAMF,EAAG,GAAIG,EAAWH,EAAG,GAAII,EAAYJ,EAAG,GACtEd,EAAgBC,EAAMW,EAAWI,GAAMJ,EAAWK,GAAWL,EAAWM,GAAYN,EAAWjB,MAAOO,EAAQE,EAClH,CAIA,IAAIe,EAAQ,CAAC,IAAK,SAAU,WACxBC,EAAQ,CAAC,IAAK,SAAU,gGAK5B,SAA6BC,EAAKT,EAAYU,EAAWC,GACrDZ,EAAqBU,EAAIG,EAAGZ,EAAYO,EAAOG,aAA6C,EAASA,EAAUE,EAAGD,aAA6C,EAASA,EAAUC,GAClLb,EAAqBU,EAAII,EAAGb,EAAYQ,EAAOE,aAA6C,EAASA,EAAUG,EAAGF,aAA6C,EAASA,EAAUE,EACtL"}