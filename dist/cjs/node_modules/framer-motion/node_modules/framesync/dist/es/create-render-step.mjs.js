"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRenderStep=function(e){let t=[],s=[],n=0,c=!1,r=!1;const l=new WeakSet,o={schedule:(e,r=!1,o=!1)=>{const d=o&&c,u=d?t:s;return r&&l.add(e),-1===u.indexOf(e)&&(u.push(e),d&&c&&(n=t.length)),e},cancel:e=>{const t=s.indexOf(e);-1!==t&&s.splice(t,1),l.delete(e)},process:d=>{if(c)r=!0;else{if(c=!0,[t,s]=[s,t],s.length=0,n=t.length,n)for(let s=0;s<n;s++){const n=t[s];n(d),l.has(n)&&(o.schedule(n),e())}c=!1,r&&(r=!1,o.process(d))}}};return o};
//# sourceMappingURL=create-render-step.mjs.js.map
