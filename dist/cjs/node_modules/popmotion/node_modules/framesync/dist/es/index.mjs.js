"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./on-next-frame.mjs.js"),t=require("./create-render-step.mjs.js");let r=!0,a=!1,s=!1;const c={delta:0,timestamp:0},d=["read","update","preRender","render","postRender"],n=d.reduce(((e,r)=>(e[r]=t.createRenderStep((()=>a=!0)),e)),{}),o=d.reduce(((e,t)=>{const r=n[t];return e[t]=(e,t=!1,s=!1)=>(a||l(),r.schedule(e,t,s)),e}),{}),p=d.reduce(((e,t)=>(e[t]=n[t].cancel,e)),{});d.reduce(((e,t)=>(e[t]=()=>n[t].process(c),e)),{});const m=e=>n[e].process(c),u=t=>{a=!1,c.delta=r?e.defaultTimestep:Math.max(Math.min(t-c.timestamp,40),1),c.timestamp=t,s=!0,d.forEach(m),s=!1,a&&(r=!1,e.onNextFrame(u))},l=()=>{a=!0,r=!0,s||e.onNextFrame(u)};exports.cancelSync=p,exports.default=o,exports.getFrameData=()=>c;
//# sourceMappingURL=index.mjs.js.map
