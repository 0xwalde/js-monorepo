"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./mix.mjs.js"),r=require("./mix-color.mjs.js"),s=require("./inc.mjs.js"),t=require("./pipe.mjs.js"),n=require("../../../../hey-listen/dist/hey-listen.es.js"),o=require("../../../../style-value-types/dist/es/complex/index.mjs.js"),i=require("../../../../style-value-types/dist/es/color/index.mjs.js");function u(t,n){return s.isNum(t)?r=>e.mix(t,n,r):i.color.test(t)?r.mixColor(t,n):l(t,n)}const m=(e,r)=>{const s=[...e],t=s.length,n=e.map(((e,s)=>u(e,r[s])));return e=>{for(let r=0;r<t;r++)s[r]=n[r](e);return s}};function a(e){const r=o.complex.parse(e),s=r.length;let t=0,n=0,i=0;for(let e=0;e<s;e++)t||"number"==typeof r[e]?t++:void 0!==r[e].hue?i++:n++;return{parsed:r,numNumbers:t,numRGB:n,numHSL:i}}const l=(e,r)=>{const s=o.complex.createTransformer(r),i=a(e),u=a(r);return i.numHSL===u.numHSL&&i.numRGB===u.numRGB&&i.numNumbers>=u.numNumbers?t.pipe(m(i.parsed,u.parsed),s):(n.warning(!0,`Complex values '${e}' and '${r}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),s=>`${s>0?r:e}`)};exports.mixArray=m,exports.mixComplex=l,exports.mixObject=(e,r)=>{const s=Object.assign(Object.assign({},e),r),t={};for(const n in s)void 0!==e[n]&&void 0!==r[n]&&(t[n]=u(e[n],r[n]));return e=>{for(const r in t)s[r]=t[r](e);return s}};
//# sourceMappingURL=mix-complex.mjs.js.map
