"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../tslib/tslib.es6.js");function n(r){return r}function e(r,e){void 0===e&&(e=n);var t=[],u=!1;return{read:function(){if(u)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(r){var n=e(r,u);return t.push(n),function(){t=t.filter((function(r){return r!==n}))}},assignSyncMedium:function(r){for(u=!0;t.length;){var n=t;t=[],n.forEach(r)}t={push:function(n){return r(n)},filter:function(){return t}}},assignMedium:function(r){u=!0;var n=[];if(t.length){var e=t;t=[],e.forEach(r),n=t}var i=function(){var e=n;n=[],e.forEach(r)},o=function(){return Promise.resolve().then(i)};o(),t={push:function(r){n.push(r),o()},filter:function(r){return n=n.filter(r),t}}}}}exports.createMedium=function(r,t){return void 0===t&&(t=n),e(r,t)},exports.createSidecarMedium=function(n){void 0===n&&(n={});var t=e(null);return t.options=r.__assign({async:!0,ssr:!1},n),t};
//# sourceMappingURL=medium.js.map
