"use strict";var e=require("../enums.js"),t=require("../utils/getBasePlacement.js"),i=require("../utils/getMainAxisFromPlacement.js"),r=require("../utils/getAltAxis.js"),s=require("../utils/within.js"),a=require("../dom-utils/getLayoutRect.js"),n=require("../dom-utils/getOffsetParent.js"),o=require("../utils/detectOverflow.js"),l=require("../utils/getVariation.js"),u=require("../utils/getFreshSideObject.js"),m=require("../utils/math.js");var f={name:"preventOverflow",enabled:!0,phase:"main",fn:function(f){var d=f.state,p=f.options,x=f.name,c=p.mainAxis,h=void 0===c||c,g=p.altAxis,w=void 0!==g&&g,y=p.boundary,A=p.rootBoundary,j=p.altBoundary,v=p.padding,q=p.tether,b=void 0===q||q,O=p.tetherOffset,D=void 0===O?0:O,B=o(d,{boundary:y,rootBoundary:A,padding:v,altBoundary:j}),P=t(d.placement),F=l(d.placement),L=!F,M=i(P),C=r(M),E=d.modifiersData.popperOffsets,I=d.rects.reference,R=d.rects.popper,S="function"==typeof D?D(Object.assign({},d.rects,{placement:d.placement})):D,T="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),V=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,k={x:0,y:0};if(E){if(h){var z,G="y"===M?e.top:e.left,H="y"===M?e.bottom:e.right,J="y"===M?"height":"width",K=E[M],N=K+B[G],Q=K-B[H],U=b?-R[J]/2:0,W=F===e.start?I[J]:R[J],X=F===e.start?-R[J]:-I[J],Y=d.elements.arrow,Z=b&&Y?a(Y):{width:0,height:0},$=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:u(),_=$[G],ee=$[H],te=s.within(0,I[J],Z[J]),ie=L?I[J]/2-U-te-_-T.mainAxis:W-te-_-T.mainAxis,re=L?-I[J]/2+U+te+ee+T.mainAxis:X+te+ee+T.mainAxis,se=d.elements.arrow&&n(d.elements.arrow),ae=se?"y"===M?se.clientTop||0:se.clientLeft||0:0,ne=null!=(z=null==V?void 0:V[M])?z:0,oe=K+ie-ne-ae,le=K+re-ne,ue=s.within(b?m.min(N,oe):N,K,b?m.max(Q,le):Q);E[M]=ue,k[M]=ue-K}if(w){var me,fe="x"===M?e.top:e.left,de="x"===M?e.bottom:e.right,pe=E[C],xe="y"===C?"height":"width",ce=pe+B[fe],he=pe-B[de],ge=-1!==[e.top,e.left].indexOf(P),we=null!=(me=null==V?void 0:V[C])?me:0,ye=ge?ce:pe-I[xe]-R[xe]-we+T.altAxis,Ae=ge?pe+I[xe]+R[xe]-we-T.altAxis:he,je=b&&ge?s.withinMaxClamp(ye,pe,Ae):s.within(b?ye:ce,pe,b?Ae:he);E[C]=je,k[C]=je-pe}d.modifiersData[x]=k}},requiresIfExists:["offset"]};module.exports=f;
//# sourceMappingURL=preventOverflow.js.map
