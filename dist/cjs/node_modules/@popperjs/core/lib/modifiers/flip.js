"use strict";var e=require("../utils/getOppositePlacement.js"),t=require("../utils/getBasePlacement.js"),r=require("../utils/getOppositeVariationPlacement.js"),a=require("../utils/detectOverflow.js"),i=require("../utils/computeAutoPlacement.js"),n=require("../enums.js"),o=require("../utils/getVariation.js");var s={name:"flip",enabled:!0,phase:"main",fn:function(s){var u=s.state,l=s.options,c=s.name;if(!u.modifiersData[c]._skip){for(var f=l.mainAxis,p=void 0===f||f,d=l.altAxis,m=void 0===d||d,v=l.fallbackPlacements,b=l.padding,g=l.boundary,y=l.rootBoundary,h=l.altBoundary,k=l.flipVariations,q=void 0===k||k,j=l.allowedAutoPlacements,P=u.options.placement,B=t(P),w=v||(B===P||!q?[e(P)]:function(a){if(t(a)===n.auto)return[];var i=e(a);return[r(a),i,r(i)]}(P)),x=[P].concat(w).reduce((function(e,r){return e.concat(t(r)===n.auto?i(u,{placement:r,boundary:g,rootBoundary:y,padding:b,flipVariations:q,allowedAutoPlacements:j}):r)}),[]),A=u.rects.reference,O=u.rects.popper,V=new Map,_=!0,D=x[0],E=0;E<x.length;E++){var I=x[E],M=t(I),z=o(I)===n.start,C=[n.top,n.bottom].indexOf(M)>=0,F=C?"width":"height",G=a(u,{placement:I,boundary:g,rootBoundary:y,altBoundary:h,padding:b}),H=C?z?n.right:n.left:z?n.bottom:n.top;A[F]>O[F]&&(H=e(H));var J=e(H),K=[];if(p&&K.push(G[M]<=0),m&&K.push(G[H]<=0,G[J]<=0),K.every((function(e){return e}))){D=I,_=!1;break}V.set(I,K)}if(_)for(var L=function(e){var t=x.find((function(t){var r=V.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},N=q?3:1;N>0;N--){if("break"===L(N))break}u.placement!==D&&(u.modifiersData[c]._skip=!0,u.placement=D,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};module.exports=s;
//# sourceMappingURL=flip.js.map
