"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Enum.js"),r=require("./Utility.js"),t=require("./Tokenizer.js"),i=require("./Serializer.js"),p=require("./Prefixer.js");exports.middleware=function(e){var t=r.sizeof(e);return function(r,i,p,a){for(var c="",n=0;n<t;n++)c+=e[n](r,i,p,a)||"";return c}},exports.prefixer=function(a,c,n,u){if(a.length>-1&&!a.return)switch(a.type){case e.DECLARATION:a.return=p.prefix(a.value,a.length);break;case e.KEYFRAMES:return i.serialize([t.copy(a,{value:r.replace(a.value,"@","@"+e.WEBKIT)})],u);case e.RULESET:if(a.length)return r.combine(a.props,(function(p){switch(r.match(p,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return i.serialize([t.copy(a,{props:[r.replace(p,/:(read-\w+)/,":"+e.MOZ+"$1")]})],u);case"::placeholder":return i.serialize([t.copy(a,{props:[r.replace(p,/:(plac\w+)/,":"+e.WEBKIT+"input-$1")]}),t.copy(a,{props:[r.replace(p,/:(plac\w+)/,":"+e.MOZ+"$1")]}),t.copy(a,{props:[r.replace(p,/:(plac\w+)/,e.MS+"input-$1")]})],u)}return""}))}},exports.rulesheet=function(e){return function(r){r.root||(r=r.return)&&e(r)}};
//# sourceMappingURL=Middleware.js.map
