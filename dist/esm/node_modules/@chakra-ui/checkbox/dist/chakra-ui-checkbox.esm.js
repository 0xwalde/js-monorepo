import{__DEV__ as e,callAll as t,cx as n,omit as a,dataAttr as o,callAllHandlers as i,focus as r}from"../../utils/dist/chakra-ui-utils.esm.js";import{createContext as s,mergeRefs as c}from"../../react-utils/dist/chakra-ui-react-utils.esm.js";import"../../../react/index.js";import{useBoolean as l,useUpdateEffect as d,useControllableProp as u}from"../../hooks/dist/chakra-ui-hooks.esm.js";import{chakra as m,forwardRef as p,useMultiStyleConfig as f,omitThemingProps as h}from"../../system/dist/chakra-ui-system.esm.js";import{useFormControlProps as k}from"../../form-control/dist/chakra-ui-form-control.esm.js";import{visuallyHiddenStyle as v}from"../../visually-hidden/dist/chakra-ui-visually-hidden.esm.js";import{trackFocusVisible as b}from"../../../@zag-js/focus-visible/dist/index.mjs.js";import{motion as x}from"../../../framer-motion/dist/es/render/dom/motion.mjs.js";import{u as y,a as C}from"../../hooks/dist/use-animation-state-5054a9f7.esm.js";import{AnimatePresence as g}from"../../../framer-motion/dist/es/components/AnimatePresence/index.mjs.js";import{r as j}from"../../../../_virtual/index.js";function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I.apply(this,arguments)}var D=s({name:"CheckboxGroupContext",strict:!1})[1];function E(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}var _=["isIndeterminate","isChecked"];var P,S,w=(P=m.svg,"custom"in(S=x)&&"function"==typeof S.custom?S.custom(P):S(P)),M=function(e){return j.exports.createElement(w,I({width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16}},e),j.exports.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))},O=function(e){return j.exports.createElement(w,I({width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4}},e),j.exports.createElement("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))},B=function(e){var t=e.open,n=e.children;return j.exports.createElement(g,{initial:!1},t&&j.exports.createElement(x.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},n))},R=function(e){var t=e.isIndeterminate,n=e.isChecked,a=E(e,_),o=t?O:M;return j.exports.createElement(B,{open:n||t},j.exports.createElement(o,a))},N=["defaultChecked","isChecked","isFocusable","onChange","isIndeterminate","name","value","tabIndex","aria-label","aria-labelledby","aria-invalid"];function F(e){void 0===e&&(e={});var t=k(e),n=t.isDisabled,s=t.isReadOnly,m=t.isRequired,p=t.isInvalid,f=t.id,h=t.onBlur,x=t.onFocus,g=t["aria-describedby"],D=e,_=D.defaultChecked,P=D.isChecked,S=D.isFocusable,w=D.onChange,M=D.isIndeterminate,O=D.name,B=D.value,R=D.tabIndex,F=void 0===R?void 0:R,A=D["aria-label"],q=D["aria-labelledby"],z=D["aria-invalid"],K=E(D,N),U=a(K,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),T=y(w),X=y(h),W=y(x),G=j.exports.useState(!1),H=G[0],J=G[1],Q=l(),V=Q[0],Y=Q[1],Z=l(),$=Z[0],ee=Z[1],te=l(),ne=te[0],ae=te[1];j.exports.useEffect((function(){return b(J)}),[]);var oe=j.exports.useRef(null),ie=j.exports.useState(!0),re=ie[0],se=ie[1],ce=j.exports.useState(!!_),le=ce[0],de=ce[1],ue=u(P,le),me=ue[0],pe=ue[1],fe=j.exports.useCallback((function(e){s||n?e.preventDefault():(me||de(pe?e.target.checked:!!M||e.target.checked),null==T||T(e))}),[s,n,pe,me,M,T]);C((function(){oe.current&&(oe.current.indeterminate=Boolean(M))}),[M]),d((function(){n&&Y.off()}),[n,Y]),C((function(){var e=oe.current;null!=e&&e.form&&(e.form.onreset=function(){de(!!_)})}),[]);var he=n&&!S,ke=j.exports.useCallback((function(e){" "===e.key&&ae.on()}),[ae]),ve=j.exports.useCallback((function(e){" "===e.key&&ae.off()}),[ae]);C((function(){oe.current&&(oe.current.checked!==pe&&de(oe.current.checked))}),[oe.current]);var be=j.exports.useCallback((function(e,t){void 0===e&&(e={}),void 0===t&&(t=null);return I({},e,{ref:t,"data-active":o(ne),"data-hover":o($),"data-checked":o(pe),"data-focus":o(V),"data-focus-visible":o(V&&H),"data-indeterminate":o(M),"data-disabled":o(n),"data-invalid":o(p),"data-readonly":o(s),"aria-hidden":!0,onMouseDown:i(e.onMouseDown,(function(e){V&&e.preventDefault(),ae.on()})),onMouseUp:i(e.onMouseUp,ae.off),onMouseEnter:i(e.onMouseEnter,ee.on),onMouseLeave:i(e.onMouseLeave,ee.off)})}),[ne,pe,n,V,H,$,M,p,s,ae,ee.off,ee.on]),xe=j.exports.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),I({},U,e,{ref:c(t,(function(e){e&&se("LABEL"===e.tagName)})),onClick:i(e.onClick,(function(){var e;re||(null==(e=oe.current)||e.click(),r(oe.current,{nextTick:!0}))})),"data-disabled":o(n),"data-checked":o(pe),"data-invalid":o(p)})}),[U,n,pe,p,re]),ye=j.exports.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),I({},e,{ref:c(oe,t),type:"checkbox",name:O,value:B,id:f,tabIndex:F,onChange:i(e.onChange,fe),onBlur:i(e.onBlur,X,Y.off),onFocus:i(e.onFocus,W,Y.on),onKeyDown:i(e.onKeyDown,ke),onKeyUp:i(e.onKeyUp,ve),required:m,checked:pe,disabled:he,readOnly:s,"aria-label":A,"aria-labelledby":q,"aria-invalid":z?Boolean(z):p,"aria-describedby":g,"aria-disabled":n,style:v})}),[O,B,f,fe,Y.off,Y.on,X,W,ke,ve,m,pe,he,s,A,q,z,p,g,n,F]),Ce=j.exports.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),I({},e,{ref:t,onMouseDown:i(e.onMouseDown,L),onTouchStart:i(e.onTouchStart,L),"data-disabled":o(n),"data-checked":o(pe),"data-invalid":o(p)})}),[pe,n,p]);return{state:{isInvalid:p,isFocused:V,isChecked:pe,isActive:ne,isHovered:$,isIndeterminate:M,isDisabled:n,isReadOnly:s,isRequired:m},getRootProps:xe,getCheckboxProps:be,getInputProps:ye,getLabelProps:Ce,htmlProps:U}}function L(e){e.preventDefault(),e.stopPropagation()}var A=["spacing","className","children","iconColor","iconSize","icon","isChecked","isDisabled","onChange","inputProps"],q=m("span",{baseStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0}}),z=m("label",{baseStyle:{cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"}}),K=p((function(e,a){var o=D(),i=I({},o,e),r=f("Checkbox",i),s=h(e),c=s.spacing,l=void 0===c?"0.5rem":c,d=s.className,u=s.children,p=s.iconColor,k=s.iconSize,v=s.icon,b=void 0===v?j.exports.createElement(R,null):v,x=s.isChecked,y=s.isDisabled,C=void 0===y?null==o?void 0:o.isDisabled:y,g=s.onChange,_=s.inputProps,P=E(s,A),S=x;null!=o&&o.value&&s.value&&(S=o.value.includes(s.value));var w=g;null!=o&&o.onChange&&s.value&&(w=t(o.onChange,g));var M=F(I({},P,{isDisabled:C,isChecked:S,onChange:w})),O=M.state,B=M.getInputProps,N=M.getCheckboxProps,L=M.getLabelProps,K=M.getRootProps,U=j.exports.useMemo((function(){return I({opacity:O.isChecked||O.isIndeterminate?1:0,transform:O.isChecked||O.isIndeterminate?"scale(1)":"scale(0.95)",fontSize:k,color:p},r.icon)}),[p,k,O.isChecked,O.isIndeterminate,r.icon]),T=j.exports.cloneElement(b,{__css:U,isIndeterminate:O.isIndeterminate,isChecked:O.isChecked});return j.exports.createElement(z,I({__css:r.container,className:n("chakra-checkbox",d)},K()),j.exports.createElement("input",I({className:"chakra-checkbox__input"},B(_,a))),j.exports.createElement(q,I({__css:r.control,className:"chakra-checkbox__control"},N()),T),u&&j.exports.createElement(m.span,I({className:"chakra-checkbox__label"},L(),{__css:I({marginStart:l},r.label)}),u))}));e&&(K.displayName="Checkbox");export{K as Checkbox,F as useCheckbox,D as useCheckboxGroupContext};
//# sourceMappingURL=chakra-ui-checkbox.esm.js.map
