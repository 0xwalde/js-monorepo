import{useId as e,useBoolean as r}from"../../hooks/dist/chakra-ui-hooks.esm.js";import{createStylesContext as a,forwardRef as i,useMultiStyleConfig as l,omitThemingProps as s,chakra as n,useStyleConfig as o}from"../../system/dist/chakra-ui-system.esm.js";import{__DEV__ as t,cx as d,dataAttr as u,ariaAttr as c,callAllHandlers as m}from"../../utils/dist/chakra-ui-utils.esm.js";import{createContext as v,mergeRefs as p}from"../../react-utils/dist/chakra-ui-react-utils.esm.js";import"../../../react/index.js";import f from"../../icon/dist/chakra-ui-icon.esm.js";import{r as b}from"../../../../_virtual/index.js";function h(){return h=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},h.apply(this,arguments)}function x(e,r){if(null==e)return{};var a,i,l={},s=Object.keys(e);for(i=0;i<s.length;i++)a=s[i],r.indexOf(a)>=0||(l[a]=e[a]);return l}var y=["id","isRequired","isInvalid","isDisabled","isReadOnly"],I=["getRootProps","htmlProps"],k=a("FormControl"),R=k[0],_=k[1],g=_,q=v({strict:!1,name:"FormControlContext"}),F=q[0],N=q[1];var O=i((function(a,i){var o=l("Form",a),t=function(a){var i=a.id,l=a.isRequired,s=a.isInvalid,n=a.isDisabled,o=a.isReadOnly,t=x(a,y),d=e(),c=i||"field-"+d,m=c+"-label",v=c+"-feedback",f=c+"-helptext",I=b.exports.useState(!1),k=I[0],R=I[1],_=b.exports.useState(!1),g=_[0],q=_[1],F=r(),N=F[0],O=F[1],E=b.exports.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),h({id:f},e,{ref:p(r,(function(e){e&&q(!0)}))})}),[f]),P=b.exports.useCallback((function(e,r){var a,i;return void 0===e&&(e={}),void 0===r&&(r=null),h({},e,{ref:r,"data-focus":u(N),"data-disabled":u(n),"data-invalid":u(s),"data-readonly":u(o),id:null!=(a=e.id)?a:m,htmlFor:null!=(i=e.htmlFor)?i:c})}),[c,n,N,s,o,m]),j=b.exports.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),h({id:v},e,{ref:p(r,(function(e){e&&R(!0)})),"aria-live":"polite"})}),[v]),T=b.exports.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),h({},e,t,{ref:r,role:"group"})}),[t]),C=b.exports.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),h({},e,{ref:r,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!l,isInvalid:!!s,isReadOnly:!!o,isDisabled:!!n,isFocused:!!N,onFocus:O.on,onBlur:O.off,hasFeedbackText:k,setHasFeedbackText:R,hasHelpText:g,setHasHelpText:q,id:c,labelId:m,feedbackId:v,helpTextId:f,htmlProps:t,getHelpTextProps:E,getErrorMessageProps:j,getRootProps:T,getLabelProps:P,getRequiredIndicatorProps:C}}(s(a)),c=t.getRootProps;t.htmlProps;var m=x(t,I),v=d("chakra-form-control",a.className);return b.exports.createElement(F,{value:m},b.exports.createElement(R,{value:o},b.exports.createElement(n.div,h({},c({},i),{className:v,__css:o.container}))))}));t&&(O.displayName="FormControl");var E=i((function(e,r){var a=N(),i=_(),l=d("chakra-form__helper-text",e.className);return b.exports.createElement(n.div,h({},null==a?void 0:a.getHelpTextProps(e,r),{__css:i.helperText,className:l}))}));t&&(E.displayName="FormHelperText");var P=["isDisabled","isInvalid","isReadOnly","isRequired"],j=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function T(e){var r=C(e),a=r.isDisabled,i=r.isInvalid,l=r.isReadOnly,s=r.isRequired;return h({},x(r,P),{disabled:a,readOnly:l,required:s,"aria-invalid":c(i),"aria-required":c(s),"aria-readonly":c(l)})}function C(e){var r,a,i,l=N(),s=e.id,n=e.disabled,o=e.readOnly,t=e.required,d=e.isRequired,u=e.isInvalid,c=e.isReadOnly,v=e.isDisabled,p=e.onFocus,f=e.onBlur,b=x(e,j),y=e["aria-describedby"]?[e["aria-describedby"]]:[];return null!=l&&l.hasFeedbackText&&null!=l&&l.isInvalid&&y.push(l.feedbackId),null!=l&&l.hasHelpText&&y.push(l.helpTextId),h({},b,{"aria-describedby":y.join(" ")||void 0,id:null!=s?s:null==l?void 0:l.id,isDisabled:null!=(r=null!=n?n:v)?r:null==l?void 0:l.isDisabled,isReadOnly:null!=(a=null!=o?o:c)?a:null==l?void 0:l.isReadOnly,isRequired:null!=(i=null!=t?t:d)?i:null==l?void 0:l.isRequired,isInvalid:null!=u?u:null==l?void 0:l.isInvalid,onFocus:m(null==l?void 0:l.onFocus,p),onBlur:m(null==l?void 0:l.onBlur,f)})}var D=a("FormError"),H=D[0],M=D[1],A=i((function(e,r){var a=l("FormError",e),i=s(e),o=N();return null!=o&&o.isInvalid?b.exports.createElement(H,{value:a},b.exports.createElement(n.div,h({},null==o?void 0:o.getErrorMessageProps(i,r),{className:d("chakra-form__error-message",e.className),__css:h({display:"flex",alignItems:"center"},a.text)}))):null}));t&&(A.displayName="FormErrorMessage");var B=i((function(e,r){var a=M(),i=N();if(null==i||!i.isInvalid)return null;var l=d("chakra-form__error-icon",e.className);return b.exports.createElement(f,h({ref:r,"aria-hidden":!0},e,{__css:a.icon,className:l}),b.exports.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));t&&(B.displayName="FormErrorIcon");var L=["className","children","requiredIndicator","optionalIndicator"],Z=i((function(e,r){var a,i=o("FormLabel",e),l=s(e);l.className;var t=l.children,u=l.requiredIndicator,c=void 0===u?b.exports.createElement(S,null):u,m=l.optionalIndicator,v=void 0===m?null:m,p=x(l,L),f=N(),y=null!=(a=null==f?void 0:f.getLabelProps(p,r))?a:h({ref:r},p);return b.exports.createElement(n.label,h({},y,{className:d("chakra-form__label",l.className),__css:h({display:"block",textAlign:"start"},i)}),t,null!=f&&f.isRequired?c:v)}));t&&(Z.displayName="FormLabel");var S=i((function(e,r){var a=N(),i=g();if(null==a||!a.isRequired)return null;var l=d("chakra-form__required-indicator",e.className);return b.exports.createElement(n.span,h({},null==a?void 0:a.getRequiredIndicatorProps(e,r),{__css:i.requiredIndicator,className:l}))}));t&&(S.displayName="RequiredIndicator");export{O as FormControl,B as FormErrorIcon,A as FormErrorMessage,E as FormHelperText,Z as FormLabel,S as RequiredIndicator,T as useFormControl,N as useFormControlContext,C as useFormControlProps,g as useFormControlStyles};
//# sourceMappingURL=chakra-ui-form-control.esm.js.map
