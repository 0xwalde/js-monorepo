import{__DEV__ as e,isBrowser as r}from"../../utils/dist/chakra-ui-utils.esm.js";import{createContext as t}from"../../react-utils/dist/chakra-ui-react-utils.esm.js";import"../../../react/index.js";import{useForceUpdate as n}from"../../hooks/dist/chakra-ui-hooks.esm.js";import"../../../react-dom/index.js";import{a}from"../../hooks/dist/use-animation-state-5054a9f7.esm.js";import{r as o}from"../../../../_virtual/index4.js";import{r as i}from"../../../../_virtual/index.js";var l=t({strict:!1,name:"PortalManagerContext"})[1];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}var c=["containerRef"],u=t({strict:!1,name:"PortalContext"}),p=u[0],m=u[1],d=function(e){return i.exports.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:e.zIndex,top:0,left:0,right:0}},e.children)},f=function(e){var r=e.appendToParentPortal,t=e.children,s=i.exports.useState(null),c=s[0],u=s[1],f=i.exports.useRef(null),x=n();i.exports.useEffect(x,[]);var v=m(),h=l();a((function(){if(c){var e=c.ownerDocument,t=r&&null!=v?v:e.body;if(t){f.current=e.createElement("div"),f.current.className="chakra-portal",t.appendChild(f.current),x();var n=f.current;return function(){t.contains(n)&&t.removeChild(n)}}}}),[c]);var P=null!=h&&h.zIndex?i.exports.createElement(d,{zIndex:null==h?void 0:h.zIndex},t):t;return f.current?o.exports.createPortal(i.exports.createElement(p,{value:f.current},P),f.current):i.exports.createElement("span",{ref:function(e){e&&u(e)}})},x=function(e){var t=e.children,l=e.containerRef,s=e.appendToParentPortal,c=l.current,u=null!=c?c:r?document.body:void 0,m=i.exports.useMemo((function(){var e=null==c?void 0:c.ownerDocument.createElement("div");return e&&(e.className="chakra-portal"),e}),[c]),d=n();return a((function(){d()}),[]),a((function(){if(m&&u)return u.appendChild(m),function(){u.removeChild(m)}}),[m,u]),u&&m?o.exports.createPortal(i.exports.createElement(p,{value:s?m:null},t),m):null};function v(e){var r=e.containerRef,t=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,c);return r?i.exports.createElement(x,s({containerRef:r},t)):i.exports.createElement(f,t)}v.defaultProps={appendToParentPortal:!0},v.className="chakra-portal",v.selector=".chakra-portal",e&&(v.displayName="Portal");export{v as Portal,l as usePortalManager};
//# sourceMappingURL=chakra-ui-portal.esm.js.map
