import{popperCSSVars as e,usePopper as r}from"../../popper/dist/chakra-ui-popper.esm.js";import{Portal as o}from"../../portal/dist/chakra-ui-portal.esm.js";import{chakra as t,forwardRef as n,useStyleConfig as s,omitThemingProps as i,useTheme as a}from"../../system/dist/chakra-ui-system.esm.js";import{__DEV__ as l,getCSSVar as p,isString as c,omit as u,pick as d,callAllHandlers as m,px as f}from"../../utils/dist/chakra-ui-utils.esm.js";import{VisuallyHidden as g}from"../../visually-hidden/dist/chakra-ui-visually-hidden.esm.js";import"../../../react/index.js";import{useDisclosure as v,useId as x}from"../../hooks/dist/chakra-ui-hooks.esm.js";import{mergeRefs as b}from"../../react-utils/dist/chakra-ui-react-utils.esm.js";import{motion as w}from"../../../framer-motion/dist/es/render/dom/motion.mjs.js";import{AnimatePresence as h}from"../../../framer-motion/dist/es/components/AnimatePresence/index.mjs.js";import{b as k}from"../../hooks/dist/use-animation-state-5054a9f7.esm.js";import{r as O}from"../../../../_virtual/index.js";function C(){return C=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},C.apply(this,arguments)}function y(e,r){if(null==e)return{};var o,t,n={},s=Object.keys(e);for(t=0;t<s.length;t++)o=s[t],r.indexOf(o)>=0||(n[o]=e[o]);return n}var P={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},j=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","closeOnEsc","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"];function E(o){void 0===o&&(o={});var t=o,n=t.openDelay,s=void 0===n?0:n,i=t.closeDelay,a=void 0===i?0:i,l=t.closeOnClick,p=void 0===l||l,c=t.closeOnMouseDown,u=t.closeOnEsc,d=void 0===u||u,g=t.onOpen,w=t.onClose,h=t.placement,P=t.id,E=t.isOpen,T=t.defaultIsOpen,_=t.arrowSize,D=void 0===_?10:_,I=t.arrowShadowColor,S=t.arrowPadding,A=t.modifiers,M=t.isDisabled,z=t.gutter,R=t.offset,F=t.direction,B=y(t,j),N=v({isOpen:E,defaultIsOpen:T,onOpen:g,onClose:w}),W=N.isOpen,V=N.onOpen,q=N.onClose,G=r({enabled:W,placement:h,arrowPadding:S,modifiers:A,gutter:z,offset:R,direction:F}),H=G.referenceRef,J=G.getPopperProps,K=G.getArrowInnerProps,L=G.getArrowProps,Q=x(P,"tooltip"),U=O.exports.useRef(null),X=O.exports.useRef(),Y=O.exports.useRef(),Z=O.exports.useCallback((function(){M||X.current||(X.current=window.setTimeout(V,s))}),[M,V,s]),$=O.exports.useCallback((function(){X.current&&(clearTimeout(X.current),X.current=void 0),Y.current=window.setTimeout(q,a)}),[a,q]),ee=O.exports.useCallback((function(){W&&p&&$()}),[p,$,W]),re=O.exports.useCallback((function(){W&&c&&$()}),[c,$,W]),oe=O.exports.useCallback((function(e){W&&"Escape"===e.key&&$()}),[W,$]);k("keydown",d?oe:void 0),O.exports.useEffect((function(){return function(){clearTimeout(X.current),clearTimeout(Y.current)}}),[]),k("mouseleave",$,(function(){return U.current}));var te=O.exports.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),C({},e,{ref:b(U,r,H),onMouseEnter:m(e.onMouseEnter,Z),onClick:m(e.onClick,ee),onMouseDown:m(e.onMouseDown,re),onFocus:m(e.onFocus,Z),onBlur:m(e.onBlur,$),"aria-describedby":W?Q:void 0})}),[Z,$,re,W,Q,ee,H]),ne=O.exports.useCallback((function(r,o){var t;return void 0===r&&(r={}),void 0===o&&(o=null),J(C({},r,{style:C({},r.style,(t={},t[e.arrowSize.var]=D?f(D):void 0,t[e.arrowShadowColor.var]=I,t))}),o)}),[J,D,I]),se=O.exports.useCallback((function(r,o){return void 0===r&&(r={}),void 0===o&&(o=null),C({ref:o},B,r,{id:Q,role:"tooltip",style:C({},r.style,{position:"relative",transformOrigin:e.transformOrigin.varRef})})}),[B,Q]);return{isOpen:W,show:Z,hide:$,getTriggerProps:te,getTooltipProps:se,getTooltipPositionerProps:ne,getArrowProps:L,getArrowInnerProps:K}}var T=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps","background","backgroundColor","bgColor"],_=t(w.div),D=n((function(r,n){var l,m,f=s("Tooltip",r),v=i(r),x=a(),b=v.children,w=v.label,k=v.shouldWrapChildren,j=v["aria-label"],D=v.hasArrow,I=v.bg,S=v.portalProps,A=v.background,M=v.backgroundColor,z=v.bgColor,R=y(v,T),F=null!=(l=null!=(m=null!=A?A:M)?m:I)?l:z;F&&(f.bg=F,f[e.arrowBg.var]=p(x,"colors",F));var B,N=E(C({},R,{direction:x.direction}));if(c(b)||k)B=O.exports.createElement(t.span,C({tabIndex:0},N.getTriggerProps()),b);else{var W=O.exports.Children.only(b);B=O.exports.cloneElement(W,N.getTriggerProps(W.props,W.ref))}var V=!!j,q=N.getTooltipProps({},n),G=V?u(q,["role","id"]):q,H=d(q,["role","id"]);return w?O.exports.createElement(O.exports.Fragment,null,B,O.exports.createElement(h,null,N.isOpen&&O.exports.createElement(o,S,O.exports.createElement(t.div,C({},N.getTooltipPositionerProps(),{__css:{zIndex:f.zIndex,pointerEvents:"none"}}),O.exports.createElement(_,C({variants:P},G,{initial:"exit",animate:"enter",exit:"exit",__css:f}),w,V&&O.exports.createElement(g,H,j),D&&O.exports.createElement(t.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},O.exports.createElement(t.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:f.bg}}))))))):O.exports.createElement(O.exports.Fragment,null,b)}));l&&(D.displayName="Tooltip");export{D as Tooltip,E as useTooltip};
//# sourceMappingURL=chakra-ui-tooltip.esm.js.map
