{"version":3,"file":"chakra-ui-editable.esm.js","sources":["../../../../../../node_modules/@chakra-ui/editable/dist/chakra-ui-editable.esm.js"],"sourcesContent":["import { createStylesContext, forwardRef, useMultiStyleConfig, omitThemingProps, chakra } from '@chakra-ui/system';\nimport { focus, normalizeEventKey, isEmpty, getRelatedTarget, contains, ariaAttr, callAllHandlers, cx, runIfFn, __DEV__ } from '@chakra-ui/utils';\nimport { mergeRefs, createContext } from '@chakra-ui/react-utils';\nimport * as React from 'react';\nimport { useState, useRef, useCallback } from 'react';\nimport { useControllableState, useFocusOnPointerDown, useSafeLayoutEffect, useUpdateEffect } from '@chakra-ui/hooks';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded$1 = [\"onChange\", \"onCancel\", \"onSubmit\", \"value\", \"isDisabled\", \"defaultValue\", \"startWithEditView\", \"isPreviewFocusable\", \"submitOnBlur\", \"selectAllOnFocus\", \"placeholder\", \"onEdit\"];\n\n/**\n * React hook for managing the inline renaming of some text.\n *\n * @see Docs https://chakra-ui.com/editable\n */\nfunction useEditable(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      onChangeProp = _props.onChange,\n      onCancelProp = _props.onCancel,\n      onSubmitProp = _props.onSubmit,\n      valueProp = _props.value,\n      isDisabled = _props.isDisabled,\n      defaultValue = _props.defaultValue,\n      startWithEditView = _props.startWithEditView,\n      _props$isPreviewFocus = _props.isPreviewFocusable,\n      isPreviewFocusable = _props$isPreviewFocus === void 0 ? true : _props$isPreviewFocus,\n      _props$submitOnBlur = _props.submitOnBlur,\n      submitOnBlur = _props$submitOnBlur === void 0 ? true : _props$submitOnBlur,\n      _props$selectAllOnFoc = _props.selectAllOnFocus,\n      selectAllOnFocus = _props$selectAllOnFoc === void 0 ? true : _props$selectAllOnFoc,\n      placeholder = _props.placeholder,\n      onEditProp = _props.onEdit,\n      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$1);\n\n  var defaultIsEditing = Boolean(startWithEditView && !isDisabled);\n\n  var _useState = useState(defaultIsEditing),\n      isEditing = _useState[0],\n      setIsEditing = _useState[1];\n\n  var _useControllableState = useControllableState({\n    defaultValue: defaultValue || \"\",\n    value: valueProp,\n    onChange: onChangeProp\n  }),\n      value = _useControllableState[0],\n      setValue = _useControllableState[1];\n  /**\n   * Keep track of the previous value, so if users\n   * presses `cancel`, we can revert to it.\n   */\n\n\n  var _useState2 = useState(value),\n      prevValue = _useState2[0],\n      setPrevValue = _useState2[1];\n  /**\n   * Ref to help focus the input in edit mode\n   */\n\n\n  var inputRef = useRef(null);\n  var previewRef = useRef(null);\n  var editButtonRef = useRef(null);\n  var cancelButtonRef = useRef(null);\n  var submitButtonRef = useRef(null);\n  useFocusOnPointerDown({\n    ref: inputRef,\n    enabled: isEditing,\n    elements: [cancelButtonRef, submitButtonRef]\n  });\n  var isInteractive = !isEditing && !isDisabled;\n  useSafeLayoutEffect(function () {\n    if (isEditing) {\n      focus(inputRef.current, {\n        selectTextIfInput: selectAllOnFocus\n      });\n    }\n  }, []);\n  useUpdateEffect(function () {\n    if (!isEditing) {\n      focus(editButtonRef.current);\n      return;\n    }\n\n    focus(inputRef.current, {\n      selectTextIfInput: selectAllOnFocus\n    });\n    onEditProp == null ? void 0 : onEditProp();\n  }, [isEditing, onEditProp, selectAllOnFocus]);\n  var onEdit = useCallback(function () {\n    if (isInteractive) {\n      setIsEditing(true);\n    }\n  }, [isInteractive]);\n  var onUpdatePrevValue = useCallback(function () {\n    setPrevValue(value);\n  }, [value]);\n  var onCancel = useCallback(function () {\n    setIsEditing(false);\n    setValue(prevValue);\n    onCancelProp == null ? void 0 : onCancelProp(prevValue);\n  }, [onCancelProp, setValue, prevValue]);\n  var onSubmit = useCallback(function () {\n    setIsEditing(false);\n    setPrevValue(value);\n    onSubmitProp == null ? void 0 : onSubmitProp(value);\n  }, [value, onSubmitProp]);\n  var onChange = useCallback(function (event) {\n    setValue(event.currentTarget.value);\n  }, [setValue]);\n  var onKeyDown = useCallback(function (event) {\n    var eventKey = normalizeEventKey(event);\n    var keyMap = {\n      Escape: onCancel,\n      Enter: function Enter(event) {\n        if (!event.shiftKey && !event.metaKey) {\n          onSubmit();\n        }\n      }\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel, onSubmit]);\n  var onKeyDownWithoutSubmit = useCallback(function (event) {\n    var eventKey = normalizeEventKey(event);\n    var keyMap = {\n      Escape: onCancel\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel]);\n  var isValueEmpty = isEmpty(value);\n  var onBlur = useCallback(function (event) {\n    var relatedTarget = getRelatedTarget(event);\n    var targetIsCancel = contains(cancelButtonRef.current, relatedTarget);\n    var targetIsSubmit = contains(submitButtonRef.current, relatedTarget);\n    var isValidBlur = !targetIsCancel && !targetIsSubmit;\n\n    if (isValidBlur) {\n      if (submitOnBlur) {\n        onSubmit();\n      } else {\n        onCancel();\n      }\n    }\n  }, [submitOnBlur, onSubmit, onCancel]);\n  var getPreviewProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    var tabIndex = isInteractive && isPreviewFocusable ? 0 : undefined;\n    return _extends({}, props, {\n      ref: mergeRefs(ref, previewRef),\n      children: isValueEmpty ? placeholder : value,\n      hidden: isEditing,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      tabIndex: tabIndex,\n      onFocus: callAllHandlers(props.onFocus, onEdit, onUpdatePrevValue)\n    });\n  }, [isDisabled, isEditing, isInteractive, isPreviewFocusable, isValueEmpty, onEdit, onUpdatePrevValue, placeholder, value]);\n  var getInputProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      hidden: !isEditing,\n      placeholder: placeholder,\n      ref: mergeRefs(ref, inputRef),\n      disabled: isDisabled,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      value: value,\n      onBlur: callAllHandlers(props.onBlur, onBlur),\n      onChange: callAllHandlers(props.onChange, onChange),\n      onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(props.onFocus, onUpdatePrevValue)\n    });\n  }, [isDisabled, isEditing, onBlur, onChange, onKeyDown, onUpdatePrevValue, placeholder, value]);\n  var getTextareaProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      hidden: !isEditing,\n      placeholder: placeholder,\n      ref: mergeRefs(ref, inputRef),\n      disabled: isDisabled,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      value: value,\n      onBlur: callAllHandlers(props.onBlur, onBlur),\n      onChange: callAllHandlers(props.onChange, onChange),\n      onKeyDown: callAllHandlers(props.onKeyDown, onKeyDownWithoutSubmit),\n      onFocus: callAllHandlers(props.onFocus, onUpdatePrevValue)\n    });\n  }, [isDisabled, isEditing, onBlur, onChange, onKeyDownWithoutSubmit, onUpdatePrevValue, placeholder, value]);\n  var getEditButtonProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({\n      \"aria-label\": \"Edit\"\n    }, props, {\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onEdit),\n      ref: mergeRefs(ref, editButtonRef),\n      disabled: isDisabled\n    });\n  }, [onEdit, isDisabled]);\n  var getSubmitButtonProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({}, props, {\n      \"aria-label\": \"Submit\",\n      ref: mergeRefs(submitButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onSubmit),\n      disabled: isDisabled\n    });\n  }, [onSubmit, isDisabled]);\n  var getCancelButtonProps = useCallback(function (props, ref) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (ref === void 0) {\n      ref = null;\n    }\n\n    return _extends({\n      \"aria-label\": \"Cancel\",\n      id: \"cancel\"\n    }, props, {\n      ref: mergeRefs(cancelButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props.onClick, onCancel),\n      disabled: isDisabled\n    });\n  }, [onCancel, isDisabled]);\n  return {\n    isEditing: isEditing,\n    isDisabled: isDisabled,\n    isValueEmpty: isValueEmpty,\n    value: value,\n    onEdit: onEdit,\n    onCancel: onCancel,\n    onSubmit: onSubmit,\n    getPreviewProps: getPreviewProps,\n    getInputProps: getInputProps,\n    getTextareaProps: getTextareaProps,\n    getEditButtonProps: getEditButtonProps,\n    getSubmitButtonProps: getSubmitButtonProps,\n    getCancelButtonProps: getCancelButtonProps,\n    htmlProps: htmlProps\n  };\n}\n\nvar _excluded = [\"htmlProps\"];\n\nvar _createStylesContext = createStylesContext(\"Editable\"),\n    StylesProvider = _createStylesContext[0],\n    useStyles = _createStylesContext[1];\n\nvar useEditableStyles = useStyles;\n\nvar _createContext = createContext({\n  name: \"EditableContext\",\n  errorMessage: \"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`\"\n}),\n    EditableProvider = _createContext[0],\n    useEditableContext = _createContext[1];\n\n/**\n * Editable\n *\n * The wrapper that provides context and logic for all editable\n * components. It renders a `div`\n */\nvar Editable = /*#__PURE__*/forwardRef(function (props, ref) {\n  var styles = useMultiStyleConfig(\"Editable\", props);\n  var ownProps = omitThemingProps(props);\n\n  var _useEditable = useEditable(ownProps),\n      htmlProps = _useEditable.htmlProps,\n      context = _objectWithoutPropertiesLoose(_useEditable, _excluded);\n\n  var isEditing = context.isEditing,\n      onSubmit = context.onSubmit,\n      onCancel = context.onCancel,\n      onEdit = context.onEdit;\n\n  var _className = cx(\"chakra-editable\", props.className);\n\n  var children = runIfFn(props.children, {\n    isEditing: isEditing,\n    onSubmit: onSubmit,\n    onCancel: onCancel,\n    onEdit: onEdit\n  });\n  return /*#__PURE__*/React.createElement(EditableProvider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(StylesProvider, {\n    value: styles\n  }, /*#__PURE__*/React.createElement(chakra.div, _extends({\n    ref: ref\n  }, htmlProps, {\n    className: _className\n  }), children)));\n});\n\nif (__DEV__) {\n  Editable.displayName = \"Editable\";\n}\n\nvar commonStyles = {\n  fontSize: \"inherit\",\n  fontWeight: \"inherit\",\n  textAlign: \"inherit\",\n  bg: \"transparent\"\n};\n\n/**\n * EditablePreview\n *\n * The `span` used to display the final value, in the `preview` mode\n */\nvar EditablePreview = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useEditableContext = useEditableContext(),\n      getPreviewProps = _useEditableContext.getPreviewProps;\n\n  var styles = useStyles();\n  var previewProps = getPreviewProps(props, ref);\n\n  var _className = cx(\"chakra-editable__preview\", props.className);\n\n  return /*#__PURE__*/React.createElement(chakra.span, _extends({}, previewProps, {\n    __css: _extends({\n      cursor: \"text\",\n      display: \"inline-block\"\n    }, commonStyles, styles.preview),\n    className: _className\n  }));\n});\n\nif (__DEV__) {\n  EditablePreview.displayName = \"EditablePreview\";\n}\n\n/**\n * EditableInput\n *\n * The input used in the `edit` mode\n */\nvar EditableInput = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useEditableContext2 = useEditableContext(),\n      getInputProps = _useEditableContext2.getInputProps;\n\n  var styles = useStyles();\n  var inputProps = getInputProps(props, ref);\n\n  var _className = cx(\"chakra-editable__input\", props.className);\n\n  return /*#__PURE__*/React.createElement(chakra.input, _extends({}, inputProps, {\n    __css: _extends({\n      outline: 0\n    }, commonStyles, styles.input),\n    className: _className\n  }));\n});\n\nif (__DEV__) {\n  EditableInput.displayName = \"EditableInput\";\n}\n\n/**\n * EditableTextarea\n *\n * The textarea used in the `edit` mode\n */\nvar EditableTextarea = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _useEditableContext3 = useEditableContext(),\n      getTextareaProps = _useEditableContext3.getTextareaProps;\n\n  var styles = useStyles();\n  var textareaProps = getTextareaProps(props, ref);\n\n  var _className = cx(\"chakra-editable__textarea\", props.className);\n\n  return /*#__PURE__*/React.createElement(chakra.textarea, _extends({}, textareaProps, {\n    __css: _extends({\n      outline: 0\n    }, commonStyles, styles.textarea),\n    className: _className\n  }));\n});\n\nif (__DEV__) {\n  EditableTextarea.displayName = \"EditableTextarea\";\n}\n/**\n * React hook use to gain access to the editable state and actions.\n */\n\n\nfunction useEditableState() {\n  var _useEditableContext4 = useEditableContext(),\n      isEditing = _useEditableContext4.isEditing,\n      onSubmit = _useEditableContext4.onSubmit,\n      onCancel = _useEditableContext4.onCancel,\n      onEdit = _useEditableContext4.onEdit,\n      isDisabled = _useEditableContext4.isDisabled;\n\n  return {\n    isEditing: isEditing,\n    onSubmit: onSubmit,\n    onCancel: onCancel,\n    onEdit: onEdit,\n    isDisabled: isDisabled\n  };\n}\n/**\n * React hook use to create controls for the editable component\n */\n\nfunction useEditableControls() {\n  var _useEditableContext5 = useEditableContext(),\n      isEditing = _useEditableContext5.isEditing,\n      getEditButtonProps = _useEditableContext5.getEditButtonProps,\n      getCancelButtonProps = _useEditableContext5.getCancelButtonProps,\n      getSubmitButtonProps = _useEditableContext5.getSubmitButtonProps;\n\n  return {\n    isEditing: isEditing,\n    getEditButtonProps: getEditButtonProps,\n    getCancelButtonProps: getCancelButtonProps,\n    getSubmitButtonProps: getSubmitButtonProps\n  };\n}\n\nexport { Editable, EditableInput, EditablePreview, EditableTextarea, useEditable, useEditableControls, useEditableState, useEditableStyles };\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded$1","useEditable","props","_props","onChangeProp","onChange","onCancelProp","onCancel","onSubmitProp","onSubmit","valueProp","value","isDisabled","defaultValue","startWithEditView","_props$isPreviewFocus","isPreviewFocusable","_props$submitOnBlur","submitOnBlur","_props$selectAllOnFoc","selectAllOnFocus","placeholder","onEditProp","onEdit","htmlProps","defaultIsEditing","Boolean","_useState","useState","exports","isEditing","setIsEditing","_useControllableState","useControllableState","setValue","_useState2","prevValue","setPrevValue","inputRef","useRef","previewRef","editButtonRef","cancelButtonRef","submitButtonRef","useFocusOnPointerDown","ref","enabled","elements","isInteractive","useSafeLayoutEffect","focus","current","selectTextIfInput","useUpdateEffect","useCallback","onUpdatePrevValue","event","currentTarget","onKeyDown","eventKey","normalizeEventKey","keyMap","Escape","Enter","shiftKey","metaKey","action","preventDefault","onKeyDownWithoutSubmit","isValueEmpty","isEmpty","onBlur","relatedTarget","getRelatedTarget","targetIsCancel","contains","targetIsSubmit","getPreviewProps","tabIndex","undefined","mergeRefs","children","hidden","ariaAttr","onFocus","callAllHandlers","getInputProps","disabled","getTextareaProps","getEditButtonProps","type","onClick","getSubmitButtonProps","getCancelButtonProps","id","_excluded","_createStylesContext","createStylesContext","StylesProvider","useStyles","_createContext","createContext","name","errorMessage","EditableProvider","useEditableContext","Editable","forwardRef","styles","useMultiStyleConfig","_useEditable","omitThemingProps","context","_className","cx","className","runIfFn","React.createElement","chakra","div","__DEV__","displayName","commonStyles","fontSize","fontWeight","textAlign","bg","EditablePreview","previewProps","span","__css","cursor","display","preview","EditableInput","inputProps","input","outline","EditableTextarea","textareaProps","textarea"],"mappings":"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"}