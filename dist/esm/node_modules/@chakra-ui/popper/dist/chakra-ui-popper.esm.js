import{mergeRefs as r}from"../../react-utils/dist/chakra-ui-react-utils.esm.js";import{createPopper as t}from"../../../@popperjs/core/lib/popper.js";import"../../../react/index.js";import{r as e}from"../../../../_virtual/index.js";function o(){return o=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},o.apply(this,arguments)}var n=function(r,t){return{var:r,varRef:t?"var("+r+", "+t+")":"var("+r+")"}},a={arrowShadowColor:n("--popper-arrow-shadow-color"),arrowSize:n("--popper-arrow-size","8px"),arrowSizeHalf:n("--popper-arrow-size-half"),arrowBg:n("--popper-arrow-bg"),transformOrigin:n("--popper-transform-origin"),arrowOffset:n("--popper-arrow-offset")};var i={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},s={scroll:!0,resize:!0};var p={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(r){var t=r.state;t.styles.popper.width=t.rects.reference.width+"px"},effect:function(r){var t=r.state;return function(){var r=t.elements.reference;t.elements.popper.style.width=r.offsetWidth+"px"}}},l={name:"transformOrigin",enabled:!0,phase:"write",fn:function(r){var t=r.state;f(t)},effect:function(r){var t=r.state;return function(){f(t)}}},f=function(r){var t;r.elements.popper.style.setProperty(a.transformOrigin.var,(t=r.placement,i[t]))},u={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:function(r){var t=r.state;c(t)}},c=function(r){var t;if(r.placement){var e=d(r.placement);if(null!=(t=r.elements)&&t.arrow&&e){var o,n;Object.assign(r.elements.arrow.style,((o={})[e.property]=e.value,o.width=a.arrowSize.varRef,o.height=a.arrowSize.varRef,o.zIndex=-1,o));var i=((n={})[a.arrowSizeHalf.var]="calc("+a.arrowSize.varRef+" / 2)",n[a.arrowOffset.var]="calc("+a.arrowSizeHalf.varRef+" * -1)",n);for(var s in i)r.elements.arrow.style.setProperty(s,i[s])}}},d=function(r){return r.startsWith("top")?{property:"bottom",value:a.arrowOffset.varRef}:r.startsWith("bottom")?{property:"top",value:a.arrowOffset.varRef}:r.startsWith("left")?{property:"right",value:a.arrowOffset.varRef}:r.startsWith("right")?{property:"left",value:a.arrowOffset.varRef}:void 0},v={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:function(r){var t=r.state;w(t)},effect:function(r){var t=r.state;return function(){w(t)}}},w=function(r){if(r.elements.arrow){var t,e=r.elements.arrow.querySelector("[data-popper-arrow-inner]");if(e)Object.assign(e.style,{transform:"rotate(45deg)",background:a.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:(t=r.placement,t.includes("top")?"1px 1px 1px 0 var(--popper-arrow-shadow-color)":t.includes("bottom")?"-1px -1px 1px 0 var(--popper-arrow-shadow-color)":t.includes("right")?"-1px 1px 1px 0 var(--popper-arrow-shadow-color)":t.includes("left")?"1px -1px 1px 0 var(--popper-arrow-shadow-color)":void 0)})}},m={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},h={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};var b=["size","shadowColor","bg","style"];function g(n){void 0===n&&(n={});var i=n,f=i.enabled,c=void 0===f||f,d=i.modifiers,w=i.placement,g=void 0===w?"bottom":w,y=i.strategy,O=void 0===y?"absolute":y,R=i.arrowPadding,z=void 0===R?8:R,S=i.eventListeners,j=void 0===S||S,C=i.offset,k=i.gutter,P=void 0===k?8:k,W=i.flip,A=void 0===W||W,q=i.boundary,H=void 0===q?"clippingParents":q,I=i.preventOverflow,U=void 0===I||I,B=i.matchWidth,L=i.direction,E=void 0===L?"ltr":L,V=e.exports.useRef(null),_=e.exports.useRef(null),D=e.exports.useRef(null),F=function(r,t){var e,o;void 0===t&&(t="ltr");var n=(null==(e=m[r])?void 0:e[t])||r;return"ltr"===t?n:null!=(o=h[r])?o:n}(g,E),G=e.exports.useRef((function(){})),J=e.exports.useCallback((function(){var r;c&&V.current&&_.current&&(null==G.current||G.current(),D.current=t(V.current,_.current,{placement:F,modifiers:[v,u,l,o({},p,{enabled:!!B}),o({name:"eventListeners"},(r=j,"object"==typeof r?{enabled:!0,options:o({},s,r)}:{enabled:r,options:s})),{name:"arrow",options:{padding:z}},{name:"offset",options:{offset:null!=C?C:[0,P]}},{name:"flip",enabled:!!A,options:{padding:8}},{name:"preventOverflow",enabled:!!U,options:{boundary:H}}].concat(null!=d?d:[]),strategy:O}),D.current.forceUpdate(),G.current=D.current.destroy)}),[F,c,d,B,j,z,C,P,A,U,H,O]);e.exports.useEffect((function(){return function(){var r;V.current||_.current||(null==(r=D.current)||r.destroy(),D.current=null)}}),[]);var K=e.exports.useCallback((function(r){V.current=r,J()}),[J]),M=e.exports.useCallback((function(t,e){return void 0===t&&(t={}),void 0===e&&(e=null),o({},t,{ref:r(K,e)})}),[K]),N=e.exports.useCallback((function(r){_.current=r,J()}),[J]),Q=e.exports.useCallback((function(t,e){return void 0===t&&(t={}),void 0===e&&(e=null),o({},t,{ref:r(N,e),style:o({},t.style,{position:O,minWidth:B?void 0:"max-content",inset:"0 auto auto 0"})})}),[O,N,B]),T=e.exports.useCallback((function(r,t){void 0===r&&(r={}),void 0===t&&(t=null);var e=r;return e.size,e.shadowColor,e.bg,e.style,o({},function(r,t){if(null==r)return{};var e,o,n={},a=Object.keys(r);for(o=0;o<a.length;o++)e=a[o],t.indexOf(e)>=0||(n[e]=r[e]);return n}(e,b),{ref:t,"data-popper-arrow":"",style:x(r)})}),[]),X=e.exports.useCallback((function(r,t){return void 0===r&&(r={}),void 0===t&&(t=null),o({},r,{ref:t,"data-popper-arrow-inner":""})}),[]);return{update:function(){var r;null==(r=D.current)||r.update()},forceUpdate:function(){var r;null==(r=D.current)||r.forceUpdate()},transformOrigin:a.transformOrigin.varRef,referenceRef:K,popperRef:N,getPopperProps:Q,getArrowProps:T,getArrowInnerProps:X,getReferenceProps:M}}function x(r){var t=r.size,e=r.shadowColor,n=r.bg,a=o({},r.style,{position:"absolute"});return t&&(a["--popper-arrow-size"]=t),e&&(a["--popper-arrow-shadow-color"]=e),n&&(a["--popper-arrow-bg"]=n),a}export{a as popperCSSVars,g as usePopper};
//# sourceMappingURL=chakra-ui-popper.esm.js.map
