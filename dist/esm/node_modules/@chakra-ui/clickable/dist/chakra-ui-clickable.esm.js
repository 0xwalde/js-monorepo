import{isRightClick as e,dataAttr as n}from"../../utils/dist/chakra-ui-utils.esm.js";import{mergeRefs as t}from"../../react-utils/dist/chakra-ui-react-utils.esm.js";import"../../../react/index.js";import{r as o}from"../../../../_virtual/index.js";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(this,arguments)}var u=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function a(e){var n=e.target,t=n.tagName,o=n.isContentEditable;return"INPUT"!==t&&"TEXTAREA"!==t&&!0!==o}function s(s){void 0===s&&(s={});var i=s,l=i.ref,c=i.isDisabled,p=i.isFocusable,f=i.clickOnEnter,v=void 0===f||f,d=i.clickOnSpace,b=void 0===d||d,k=i.onMouseDown,m=i.onMouseUp,x=i.onClick,y=i.onKeyDown,D=i.onKeyUp,M=i.tabIndex,C=i.onMouseOver,O=i.onMouseLeave,g=function(e,n){if(null==e)return{};var t,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)t=u[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(i,u),E=o.exports.useState(!0),w=E[0],K=E[1],U=o.exports.useState(!1),T=U[0],j=U[1],h=function(){var e=o.exports.useRef(new Map),n=e.current,t=o.exports.useCallback((function(n,t,o,r){e.current.set(o,{type:t,el:n,options:r}),n.addEventListener(t,o,r)}),[]),r=o.exports.useCallback((function(n,t,o,r){n.removeEventListener(t,o,r),e.current.delete(o)}),[]);return o.exports.useEffect((function(){return function(){n.forEach((function(e,n){r(e.el,e.type,n,e.options)}))}}),[r,n]),{add:t,remove:r}}(),P=w?M:M||0,L=c&&!p,S=o.exports.useCallback((function(e){if(c)return e.stopPropagation(),void e.preventDefault();e.currentTarget.focus(),null==x||x(e)}),[c,x]),I=o.exports.useCallback((function(e){T&&a(e)&&(e.preventDefault(),e.stopPropagation(),j(!1),h.remove(document,"keyup",I,!1))}),[T,h]),N=o.exports.useCallback((function(e){if(null==y||y(e),!(c||e.defaultPrevented||e.metaKey)&&a(e.nativeEvent)&&!w){var n=v&&"Enter"===e.key;if(b&&" "===e.key&&(e.preventDefault(),j(!0)),n)e.preventDefault(),e.currentTarget.click();h.add(document,"keyup",I,!1)}}),[c,w,y,v,b,h,I]),A=o.exports.useCallback((function(e){(null==D||D(e),c||e.defaultPrevented||e.metaKey)||a(e.nativeEvent)&&!w&&b&&" "===e.key&&(e.preventDefault(),j(!1),e.currentTarget.click())}),[b,w,c,D]),F=o.exports.useCallback((function(e){0===e.button&&(j(!1),h.remove(document,"mouseup",F,!1))}),[h]),R=o.exports.useCallback((function(n){if(!e(n)){if(c)return n.stopPropagation(),void n.preventDefault();w||j(!0),n.currentTarget.focus({preventScroll:!0}),h.add(document,"mouseup",F,!1),null==k||k(n)}}),[c,w,k,h,F]),B=o.exports.useCallback((function(n){e(n)||(w||j(!1),null==m||m(n))}),[m,w]),X=o.exports.useCallback((function(e){c?e.preventDefault():null==C||C(e)}),[c,C]),_=o.exports.useCallback((function(e){T&&(e.preventDefault(),j(!1)),null==O||O(e)}),[T,O]),q=t(l,(function(e){e&&"BUTTON"!==e.tagName&&K(!1)}));return r({},g,w?{ref:q,type:"button","aria-disabled":L?void 0:c,disabled:L,onClick:S,onMouseDown:k,onMouseUp:m,onKeyUp:D,onKeyDown:y,onMouseOver:C,onMouseLeave:O}:{ref:q,role:"button","data-active":n(T),"aria-disabled":c?"true":void 0,tabIndex:L?void 0:P,onClick:S,onMouseDown:R,onMouseUp:B,onKeyUp:A,onKeyDown:N,onMouseOver:X,onMouseLeave:_})}export{s as useClickable};
//# sourceMappingURL=chakra-ui-clickable.esm.js.map
