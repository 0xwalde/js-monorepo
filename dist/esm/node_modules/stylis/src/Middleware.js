import{RULESET as r,KEYFRAMES as e,DECLARATION as t,WEBKIT as n,MOZ as o,MS as i}from"./Enum.js";import{sizeof as p,combine as u,replace as a,match as c}from"./Utility.js";import{copy as s}from"./Tokenizer.js";import{serialize as f}from"./Serializer.js";import{prefix as l}from"./Prefixer.js";function m(r){var e=p(r);return function(t,n,o,i){for(var p="",u=0;u<e;u++)p+=r[u](t,n,o,i)||"";return p}}function w(r){return function(e){e.root||(e=e.return)&&r(e)}}function h(p,m,w,h){if(p.length>-1&&!p.return)switch(p.type){case t:p.return=l(p.value,p.length);break;case e:return f([s(p,{value:a(p.value,"@","@"+n)})],h);case r:if(p.length)return u(p.props,(function(r){switch(c(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return f([s(p,{props:[a(r,/:(read-\w+)/,":"+o+"$1")]})],h);case"::placeholder":return f([s(p,{props:[a(r,/:(plac\w+)/,":"+n+"input-$1")]}),s(p,{props:[a(r,/:(plac\w+)/,":"+o+"$1")]}),s(p,{props:[a(r,/:(plac\w+)/,i+"input-$1")]})],h)}return""}))}}export{m as middleware,h as prefixer,w as rulesheet};
//# sourceMappingURL=Middleware.js.map
