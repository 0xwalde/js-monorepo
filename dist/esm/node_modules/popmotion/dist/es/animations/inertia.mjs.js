import{animate as t}from"./index.mjs.js";import{velocityPerSecond as o}from"../utils/velocity-per-second.mjs.js";import{getFrameData as e}from"../../../node_modules/framesync/dist/es/index.mjs.js";function n({from:n=0,velocity:i=0,min:s,max:r,power:l=.8,timeConstant:a=750,bounceStiffness:d=500,bounceDamping:m=10,restDelta:p=1,modifyTarget:c,driver:f,onUpdate:u,onComplete:v,onStop:y}){let j;function g(t){return void 0!==s&&t<s||void 0!==r&&t>r}function b(t){return void 0===s?r:void 0===r||Math.abs(s-t)<Math.abs(r-t)?s:r}function x(o){null==j||j.stop(),j=t(Object.assign(Object.assign({},o),{driver:f,onUpdate:t=>{var e;null==u||u(t),null===(e=o.onUpdate)||void 0===e||e.call(o,t)},onComplete:v,onStop:y}))}function C(t){x(Object.assign({type:"spring",stiffness:d,damping:m,restDelta:p},t))}if(g(n))C({from:n,velocity:i,to:b(n)});else{let t=l*i+n;void 0!==c&&(t=c(t));const r=b(t),d=r===s?-1:1;let m,f;const u=t=>{m=f,f=t,i=o(t-m,e().delta),(1===d&&t>r||-1===d&&t<r)&&C({from:t,to:r,velocity:i})};x({type:"decay",from:n,velocity:i,timeConstant:a,power:l,restDelta:p,modifyTarget:c,onUpdate:g(t)?u:void 0})}return{stop:()=>null==j?void 0:j.stop()}}export{n as inertia};
//# sourceMappingURL=inertia.mjs.js.map
