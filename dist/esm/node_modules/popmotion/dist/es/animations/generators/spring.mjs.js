import{__rest as t}from"../../../../../tslib/tslib.es6.js";import{findSpring as s,calcAngularFreq as e}from"../utils/find-spring.mjs.js";const n=["duration","bounce"],o=["stiffness","damping","mass"];function i(t,s){return s.some((s=>void 0!==t[s]))}function a(a){var{from:c=0,to:f=1,restSpeed:h=2,restDelta:l}=a,m=t(a,["from","to","restSpeed","restDelta"]);const u={done:!1,value:c};let{stiffness:M,damping:d,mass:p,velocity:g,duration:v,isResolvedFromDuration:b}=function(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!i(t,o)&&i(t,n)){const n=s(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(m),j=r,x=r;function y(){const t=g?-g/1e3:0,s=f-c,n=d/(2*Math.sqrt(M*p)),o=Math.sqrt(M/p)/1e3;if(void 0===l&&(l=Math.min(Math.abs(f-c)/100,.4)),n<1){const i=e(o,n);j=e=>{const a=Math.exp(-n*o*e);return f-a*((t+n*o*s)/i*Math.sin(i*e)+s*Math.cos(i*e))},x=e=>{const a=Math.exp(-n*o*e);return n*o*a*(Math.sin(i*e)*(t+n*o*s)/i+s*Math.cos(i*e))-a*(Math.cos(i*e)*(t+n*o*s)-i*s*Math.sin(i*e))}}else if(1===n)j=e=>f-Math.exp(-o*e)*(s+(t+o*s)*e);else{const e=o*Math.sqrt(n*n-1);j=i=>{const a=Math.exp(-n*o*i),r=Math.min(e*i,300);return f-a*((t+n*o*s)*Math.sinh(r)+e*s*Math.cosh(r))/e}}}return y(),{next:t=>{const s=j(t);if(b)u.done=t>=v;else{const e=1e3*x(t),n=Math.abs(e)<=h,o=Math.abs(f-s)<=l;u.done=n&&o}return u.value=u.done?f:s,u},flipTarget:()=>{g=-g,[c,f]=[f,c],y()}}}a.needsInterpolation=(t,s)=>"string"==typeof t||"string"==typeof s;const r=t=>0;export{a as spring};
//# sourceMappingURL=spring.mjs.js.map
