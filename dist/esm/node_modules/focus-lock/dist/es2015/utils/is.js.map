{"version":3,"file":"is.js","sources":["../../../../../../../node_modules/focus-lock/dist/es2015/utils/is.js"],"sourcesContent":["import { FOCUS_NO_AUTOFOCUS } from '../constants';\nvar isElementHidden = function (node) {\n    // we can measure only \"elements\"\n    // consider others as \"visible\"\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar getParentNode = function (node) {\n    // DOCUMENT_FRAGMENT_NODE can also point on ShadowRoot. In this case .host will point on the next node\n    return node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            node.parentNode.host\n        : node.parentNode;\n};\nvar isTopNode = function (node) {\n    // @ts-ignore\n    return node === document || (node && node.nodeType === Node.DOCUMENT_NODE);\n};\nvar isVisibleUncached = function (node, checkParent) {\n    return !node || isTopNode(node) || (!isElementHidden(node) && checkParent(getParentNode(node)));\n};\nexport var isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nvar isAutoFocusAllowedUncached = function (node, checkParent) {\n    return node && !isTopNode(node) ? (isAutoFocusAllowed(node) ? checkParent(getParentNode(node)) : false) : true;\n};\nexport var isAutoFocusAllowedCached = function (cache, node) {\n    var cached = cache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isAutoFocusAllowedUncached(node, isAutoFocusAllowedCached.bind(undefined, cache));\n    cache.set(node, result);\n    return result;\n};\nexport var getDataset = function (node) {\n    // @ts-ignore\n    return node.dataset;\n};\nexport var isHTMLButtonElement = function (node) { return node.tagName === 'BUTTON'; };\nexport var isHTMLInputElement = function (node) { return node.tagName === 'INPUT'; };\nexport var isRadioElement = function (node) {\n    return isHTMLInputElement(node) && node.type === 'radio';\n};\nexport var notHiddenInput = function (node) {\n    return !((isHTMLInputElement(node) || isHTMLButtonElement(node)) && (node.type === 'hidden' || node.disabled));\n};\nexport var isAutoFocusAllowed = function (node) {\n    var attribute = node.getAttribute(FOCUS_NO_AUTOFOCUS);\n    return ![true, 'true', ''].includes(attribute);\n};\nexport var isGuard = function (node) { var _a; return Boolean(node && ((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.focusGuard)); };\nexport var isNotAGuard = function (node) { return !isGuard(node); };\nexport var isDefined = function (x) { return Boolean(x); };\n"],"names":["getParentNode","node","parentNode","nodeType","Node","DOCUMENT_FRAGMENT_NODE","host","isTopNode","document","DOCUMENT_NODE","isVisibleUncached","checkParent","ELEMENT_NODE","computedStyle","window","getComputedStyle","getPropertyValue","isElementHidden","isVisibleCached","visibilityCache","cached","get","undefined","result","bind","set","isAutoFocusAllowedCached","cache","isAutoFocusAllowed","isAutoFocusAllowedUncached","getDataset","dataset","isHTMLButtonElement","tagName","isHTMLInputElement","isRadioElement","type","notHiddenInput","disabled","attribute","getAttribute","FOCUS_NO_AUTOFOCUS","includes","isGuard","_a","Boolean","focusGuard","isNotAGuard","isDefined","x"],"mappings":"qDACA,IAYIA,EAAgB,SAAUC,GAE1B,OAAOA,EAAKC,YAAcD,EAAKC,WAAWC,WAAaC,KAAKC,uBAEpDJ,EAAKC,WAAWI,KAClBL,EAAKC,UACf,EACIK,EAAY,SAAUN,GAEtB,OAAOA,IAASO,UAAaP,GAAQA,EAAKE,WAAaC,KAAKK,aAChE,EACIC,EAAoB,SAAUT,EAAMU,GACpC,OAAQV,GAAQM,EAAUN,KAxBR,SAAUA,GAG5B,GAAIA,EAAKE,WAAaC,KAAKQ,aACvB,OAAO,EAEX,IAAIC,EAAgBC,OAAOC,iBAAiBd,EAAM,MAClD,SAAKY,IAAkBA,EAAcG,kBAGiB,SAA9CH,EAAcG,iBAAiB,YAA0E,WAAjDH,EAAcG,iBAAiB,cACnG,CAayCC,CAAgBhB,IAASU,EAAYX,EAAcC,GAC5F,EACWiB,EAAkB,SAAUC,EAAiBlB,GACpD,IAAImB,EAASD,EAAgBE,IAAIpB,GACjC,QAAeqB,IAAXF,EACA,OAAOA,EAEX,IAAIG,EAASb,EAAkBT,EAAMiB,EAAgBM,UAAKF,EAAWH,IAErE,OADAA,EAAgBM,IAAIxB,EAAMsB,GACnBA,CACX,EAIWG,EAA2B,SAAUC,EAAO1B,GACnD,IAAImB,EAASO,EAAMN,IAAIpB,GACvB,QAAeqB,IAAXF,EACA,OAAOA,EAEX,IAAIG,EARyB,SAAUtB,EAAMU,GAC7C,QAAOV,IAASM,EAAUN,OAAS2B,EAAmB3B,IAAQU,EAAYX,EAAcC,GAC5F,CAMiB4B,CAA2B5B,EAAMyB,EAAyBF,UAAKF,EAAWK,IAEvF,OADAA,EAAMF,IAAIxB,EAAMsB,GACTA,CACX,EACWO,EAAa,SAAU7B,GAE9B,OAAOA,EAAK8B,OAChB,EACWC,EAAsB,SAAU/B,GAAQ,MAAwB,WAAjBA,EAAKgC,OAAwB,EAC5EC,EAAqB,SAAUjC,GAAQ,MAAwB,UAAjBA,EAAKgC,OAAuB,EAC1EE,EAAiB,SAAUlC,GAClC,OAAOiC,EAAmBjC,IAAuB,UAAdA,EAAKmC,IAC5C,EACWC,EAAiB,SAAUpC,GAClC,SAAUiC,EAAmBjC,IAAS+B,EAAoB/B,MAAyB,WAAdA,EAAKmC,MAAqBnC,EAAKqC,UACxG,EACWV,EAAqB,SAAU3B,GACtC,IAAIsC,EAAYtC,EAAKuC,aAAaC,GAClC,OAAQ,EAAC,EAAM,OAAQ,IAAIC,SAASH,EACxC,EACWI,EAAU,SAAU1C,GAAQ,IAAI2C,EAAI,OAAOC,QAAQ5C,IAAqC,QAA3B2C,EAAKd,EAAW7B,UAA0B,IAAP2C,OAAgB,EAASA,EAAGE,YAAgB,EAC5IC,EAAc,SAAU9C,GAAQ,OAAQ0C,EAAQ1C,EAAS,EACzD+C,EAAY,SAAUC,GAAK,OAAOJ,QAAQI,EAAG"}