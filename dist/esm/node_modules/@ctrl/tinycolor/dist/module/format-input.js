import{rgbToRgb as e,hsvToRgb as a,hslToRgb as r,parseIntFromHex as t,convertHexToDecimal as n}from"./conversion.js";import{names as s}from"./css-color-names.js";import{convertToPercentage as h,boundAlpha as o}from"./util.js";function c(t){var n={r:0,g:0,b:0},s=1,c=null,x=null,f=null,g=!1,m=!1;return"string"==typeof t&&(t=l(t)),"object"==typeof t&&(b(t.r)&&b(t.g)&&b(t.b)?(n=e(t.r,t.g,t.b),g=!0,m="%"===String(t.r).substr(-1)?"prgb":"rgb"):b(t.h)&&b(t.s)&&b(t.v)?(c=h(t.s),x=h(t.v),n=a(t.h,c,x),g=!0,m="hsv"):b(t.h)&&b(t.s)&&b(t.l)&&(c=h(t.s),f=h(t.l),n=r(t.h,c,f),g=!0,m="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(s=t.a)),s=o(s),{ok:g,format:t.format||m,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:s}}var x="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),f="[\\s|\\(]+(".concat(x,")[,|\\s]+(").concat(x,")[,|\\s]+(").concat(x,")\\s*\\)?"),g="[\\s|\\(]+(".concat(x,")[,|\\s]+(").concat(x,")[,|\\s]+(").concat(x,")[,|\\s]+(").concat(x,")\\s*\\)?"),m={CSS_UNIT:new RegExp(x),rgb:new RegExp("rgb"+f),rgba:new RegExp("rgba"+g),hsl:new RegExp("hsl"+f),hsla:new RegExp("hsla"+g),hsv:new RegExp("hsv"+f),hsva:new RegExp("hsva"+g),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function l(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var a=!1;if(s[e])e=s[e],a=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var r=m.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=m.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=m.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=m.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=m.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=m.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=m.hex8.exec(e))?{r:t(r[1]),g:t(r[2]),b:t(r[3]),a:n(r[4]),format:a?"name":"hex8"}:(r=m.hex6.exec(e))?{r:t(r[1]),g:t(r[2]),b:t(r[3]),format:a?"name":"hex"}:(r=m.hex4.exec(e))?{r:t(r[1]+r[1]),g:t(r[2]+r[2]),b:t(r[3]+r[3]),a:n(r[4]+r[4]),format:a?"name":"hex8"}:!!(r=m.hex3.exec(e))&&{r:t(r[1]+r[1]),g:t(r[2]+r[2]),b:t(r[3]+r[3]),format:a?"name":"hex"}}function b(e){return Boolean(m.CSS_UNIT.exec(String(e)))}export{c as inputToRGB,b as isValidCSSUnit,l as stringInputToObject};
//# sourceMappingURL=format-input.js.map
