import{__values as e}from"../../../../../tslib/tslib.es6.js";import"../../../../../react/index.js";import{PresenceContext as t}from"../../context/PresenceContext.mjs.js";import{useConstant as r}from"../../utils/use-constant.mjs.js";import{useId as n}from"../../utils/use-id.mjs.js";import{r as o}from"../../../../../../_virtual/index.js";var i=function(i){var u=i.children,l=i.initial,c=i.isPresent,f=i.onExitComplete,a=i.custom,m=i.presenceAffectsLayout,p=r(s),x=n(),d=o.exports.useMemo((function(){return{id:x,initial:l,isPresent:c,custom:a,onExitComplete:function(t){var r,n;p.set(t,!0);try{for(var o=e(p.values()),i=o.next();!i.done;i=o.next()){if(!i.value)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}null==f||f()},register:function(e){return p.set(e,!1),function(){return p.delete(e)}}}}),m?void 0:[c]);return o.exports.useMemo((function(){p.forEach((function(e,t){return p.set(t,!1)}))}),[c]),o.exports.useEffect((function(){!c&&!p.size&&(null==f||f())}),[c]),o.exports.createElement(t.Provider,{value:d},u)};function s(){return new Map}export{i as PresenceChild};
//# sourceMappingURL=PresenceChild.mjs.js.map
