import"../../../../../react/index.js";import{PresenceContext as t}from"../../context/PresenceContext.mjs.js";import{useVisualElementContext as e}from"../../context/MotionContext/index.mjs.js";import{useIsomorphicLayoutEffect as n}from"../../utils/use-isomorphic-effect.mjs.js";import{LazyContext as o}from"../../context/LazyContext.mjs.js";import{useReducedMotionConfig as r}from"../../utils/use-reduced-motion.mjs.js";import{r as i}from"../../../../../../_virtual/index.js";function s(s,u,m,c){var l=i.exports.useContext(o),a=e(),d=i.exports.useContext(t),f=r(),p=i.exports.useRef(void 0);c||(c=l.renderer),!p.current&&c&&(p.current=c(s,{visualState:u,parent:a,props:m,presenceId:null==d?void 0:d.id,blockInitialAnimation:!1===(null==d?void 0:d.initial),shouldReduceMotion:f}));var x=p.current;return n((function(){null==x||x.syncRender()})),i.exports.useEffect((function(){var t;null===(t=null==x?void 0:x.animationState)||void 0===t||t.animateChanges()})),n((function(){return function(){return null==x?void 0:x.notifyUnmount()}}),[]),x}export{s as useVisualElement};
//# sourceMappingURL=use-visual-element.mjs.js.map
