import{__rest as t}from"../../../../../tslib/tslib.es6.js";import"../../../../../react/index.js";import{isAnimationControls as r}from"../../animation/utils/is-animation-controls.mjs.js";import{PresenceContext as n}from"../../context/PresenceContext.mjs.js";import{checkIfControllingVariants as i,checkIfVariantNode as o,resolveVariantFromProps as e}from"../../render/utils/variants.mjs.js";import{useConstant as a}from"../../utils/use-constant.mjs.js";import{resolveMotionValue as s}from"../../value/utils/resolve-motion-value.mjs.js";import{MotionContext as u}from"../../context/MotionContext/index.mjs.js";import{r as m}from"../../../../../../_virtual/index.js";function l(t,r,n,i){var o=t.scrapeMotionValuesFromProps,e=t.createRenderState,a=t.onMount,s={latestValues:v(r,n,i,o),renderState:e()};return a&&(s.mount=function(t){return a(r,t,s)}),s}var f=function(t){return function(r,i){var o=m.exports.useContext(u),e=m.exports.useContext(n);return i?l(t,r,o,e):a((function(){return l(t,r,o,e)}))}};function v(n,a,u,m){var l={},f=!1===(null==u?void 0:u.initial),v=m(n);for(var c in v)l[c]=s(v[c]);var j=n.initial,p=n.animate,x=i(n),d=o(n);a&&d&&!x&&!1!==n.inherit&&(null!=j||(j=a.initial),null!=p||(p=a.animate));var y=f||!1===j,A=y?p:j;A&&"boolean"!=typeof A&&!r(A)&&(Array.isArray(A)?A:[A]).forEach((function(r){var i=e(n,r);if(i){var o=i.transitionEnd;i.transition;var a=t(i,["transitionEnd","transition"]);for(var s in a){var u=a[s];if(Array.isArray(u))u=u[y?u.length-1:0];null!==u&&(l[s]=u)}for(var s in o)l[s]=o[s]}}));return l}export{f as makeUseVisualState};
//# sourceMappingURL=use-visual-state.mjs.js.map
