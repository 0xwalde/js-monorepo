import{__read as t}from"../../../../../tslib/tslib.es6.js";import"../../../../../react/index.js";import{isAnimationControls as e}from"../../animation/utils/is-animation-controls.mjs.js";import{usePresence as i}from"../../components/AnimatePresence/use-presence.mjs.js";import{PresenceContext as s}from"../../context/PresenceContext.mjs.js";import{createAnimationState as n}from"../../render/utils/animation-state.mjs.js";import{AnimationType as o}from"../../render/utils/types.mjs.js";import{makeRenderlessComponent as r}from"../utils/make-renderless-component.mjs.js";import{r as m}from"../../../../../../_virtual/index.js";var a={animation:r((function(t){var i=t.visualElement,s=t.animate;i.animationState||(i.animationState=n(i)),e(s)&&m.exports.useEffect((function(){return s.subscribe(i)}),[s])})),exit:r((function(e){var n=e.custom,r=e.visualElement,a=t(i(),2),u=a[0],l=a[1],c=m.exports.useContext(s);m.exports.useEffect((function(){var t,e;r.isPresent=u;var i=null===(t=r.animationState)||void 0===t?void 0:t.setActive(o.Exit,!u,{custom:null!==(e=null==c?void 0:c.custom)&&void 0!==e?e:n});!u&&(null==i||i.then(l))}),[u])}))};export{a as animations};
//# sourceMappingURL=animations.mjs.js.map
