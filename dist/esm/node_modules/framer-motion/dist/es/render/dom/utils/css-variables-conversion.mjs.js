import{__rest as t,__assign as r,__read as e}from"../../../../../../tslib/tslib.es6.js";import{invariant as n}from"../../../../../../hey-listen/dist/hey-listen.es.js";function a(t){return"string"==typeof t&&t.startsWith("var(--")}var i=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function o(t){var r=i.exec(t);if(!r)return[,];var n=e(r,3);return[n[1],n[2]]}function c(t,r,i){void 0===i&&(i=1),n(i<=4,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'));var f=e(o(t),2),s=f[0],l=f[1];if(s){var u=window.getComputedStyle(r).getPropertyValue(s);return u?u.trim():a(l)?c(l,r,i+1):l}}function f(e,n,i){var o,f=t(n,[]),s=e.getInstance();if(!(s instanceof Element))return{target:f,transitionEnd:i};for(var l in i&&(i=r({},i)),e.forEachValue((function(t){var r=t.get();if(a(r)){var e=c(r,s);e&&t.set(e)}})),f){var u=f[l];if(a(u)){var v=c(u,s);v&&(f[l]=v,i&&(null!==(o=i[l])&&void 0!==o||(i[l]=u)))}}return{target:f,transitionEnd:i}}export{i as cssVariableRegex,o as parseCSSVariable,f as resolveCSSVariables};
//# sourceMappingURL=css-variables-conversion.mjs.js.map
