{"version":3,"file":"arrow.js","sources":["../../../../../../../node_modules/@popperjs/core/lib/modifiers/arrow.js"],"sourcesContent":["import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};"],"names":["arrow$1","name","enabled","phase","fn","_ref","_state$modifiersData$","state","options","arrowElement","elements","arrow","popperOffsets","modifiersData","basePlacement","getBasePlacement","placement","axis","getMainAxisFromPlacement","len","left","right","indexOf","paddingObject","padding","Object","assign","rects","mergePaddingObject","expandToHashMap","basePlacements","toPaddingObject","arrowRect","getLayoutRect","minProp","top","maxProp","bottom","endDiff","reference","popper","startDiff","arrowOffsetParent","getOffsetParent","clientSize","clientHeight","clientWidth","centerToReference","min","max","center","offset","within","axisProp","centerOffset","effect","_ref2","_options$element","element","querySelector","process","env","NODE_ENV","isHTMLElement","console","error","join","contains","requires","requiresIfExists"],"mappings":"2fA4FA,IAAeA,EAAA,CACbC,KAAM,QACNC,SAAS,EACTC,MAAO,OACPC,GA9EF,SAAeC,GACb,IAAIC,EAEAC,EAAQF,EAAKE,MACbN,EAAOI,EAAKJ,KACZO,EAAUH,EAAKG,QACfC,EAAeF,EAAMG,SAASC,MAC9BC,EAAgBL,EAAMM,cAAcD,cACpCE,EAAgBC,EAAiBR,EAAMS,WACvCC,EAAOC,EAAyBJ,GAEhCK,EADa,CAACC,EAAMC,GAAOC,QAAQR,IAAkB,EAClC,SAAW,QAElC,GAAKL,GAAiBG,EAAtB,CAIA,IAAIW,EAxBgB,SAAyBC,EAASjB,GAItD,OAHAiB,EAA6B,mBAAZA,EAAyBA,EAAQC,OAAOC,OAAO,CAAA,EAAInB,EAAMoB,MAAO,CAC/EX,UAAWT,EAAMS,aACbQ,EACCI,EAAsC,iBAAZJ,EAAuBA,EAAUK,EAAgBL,EAASM,GAC7F,CAmBsBC,CAAgBvB,EAAQgB,QAASjB,GACjDyB,EAAYC,EAAcxB,GAC1ByB,EAAmB,MAATjB,EAAekB,EAAMf,EAC/BgB,EAAmB,MAATnB,EAAeoB,EAAShB,EAClCiB,EAAU/B,EAAMoB,MAAMY,UAAUpB,GAAOZ,EAAMoB,MAAMY,UAAUtB,GAAQL,EAAcK,GAAQV,EAAMoB,MAAMa,OAAOrB,GAC9GsB,EAAY7B,EAAcK,GAAQV,EAAMoB,MAAMY,UAAUtB,GACxDyB,EAAoBC,EAAgBlC,GACpCmC,EAAaF,EAA6B,MAATzB,EAAeyB,EAAkBG,cAAgB,EAAIH,EAAkBI,aAAe,EAAI,EAC3HC,EAAoBT,EAAU,EAAIG,EAAY,EAG9CO,EAAMzB,EAAcW,GACpBe,EAAML,EAAaZ,EAAUb,GAAOI,EAAca,GAClDc,EAASN,EAAa,EAAIZ,EAAUb,GAAO,EAAI4B,EAC/CI,EAASC,EAAOJ,EAAKE,EAAQD,GAE7BI,EAAWpC,EACfV,EAAMM,cAAcZ,KAASK,EAAwB,CAAA,GAA0B+C,GAAYF,EAAQ7C,EAAsBgD,aAAeH,EAASD,EAAQ5C,EAnBxJ,CAoBH,EA4CEiD,OA1CF,SAAgBC,GACd,IAAIjD,EAAQiD,EAAMjD,MAEdkD,EADUD,EAAMhD,QACWkD,QAC3BjD,OAAoC,IAArBgD,EAA8B,sBAAwBA,EAErD,MAAhBhD,IAKwB,iBAAjBA,IACTA,EAAeF,EAAMG,SAAS8B,OAAOmB,cAAclD,OAOxB,eAAzBmD,QAAQC,IAAIC,WACTC,EAActD,IACjBuD,QAAQC,MAAM,CAAC,sEAAuE,sEAAuE,cAAcC,KAAK,OAI/KC,EAAS5D,EAAMG,SAAS8B,OAAQ/B,GAQrCF,EAAMG,SAASC,MAAQF,EAPQ,eAAzBmD,QAAQC,IAAIC,UACdE,QAAQC,MAAM,CAAC,sEAAuE,YAAYC,KAAK,MAO7G,EASEE,SAAU,CAAC,iBACXC,iBAAkB,CAAC"}